{"version":3,"file":"components-OLOni9K_.mjs","sources":["../src/components/controls/ClearPinButton.tsx","../src/components/ConnectionState.tsx","../src/components/controls/ChatToggle.tsx","../src/components/controls/DisconnectButton.tsx","../src/assets/icons/CameraDisabledIcon.tsx","../src/assets/icons/CameraIcon.tsx","../src/assets/icons/ChatCloseIcon.tsx","../src/assets/icons/ChatIcon.tsx","../src/assets/icons/Chevron.tsx","../src/assets/icons/FocusToggleIcon.tsx","../src/assets/icons/GearIcon.tsx","../src/assets/icons/LeaveIcon.tsx","../src/assets/icons/LockLockedIcon.tsx","../src/assets/icons/MicDisabledIcon.tsx","../src/assets/icons/MicIcon.tsx","../src/assets/icons/QualityExcellentIcon.tsx","../src/assets/icons/QualityGoodIcon.tsx","../src/assets/icons/QualityPoorIcon.tsx","../src/assets/icons/QualityUnknownIcon.tsx","../src/assets/icons/ScreenShareIcon.tsx","../src/assets/icons/ScreenShareStopIcon.tsx","../src/assets/icons/SpinnerIcon.tsx","../src/assets/icons/UnfocusToggleIcon.tsx","../src/components/controls/FocusToggle.tsx","../src/utils.ts","../src/components/controls/MediaDeviceSelect.tsx","../src/components/controls/StartAudio.tsx","../src/components/controls/StartMediaButton.tsx","../src/assets/icons/util.tsx","../src/components/controls/TrackToggle.tsx","../src/components/participant/ConnectionQualityIndicator.tsx","../src/components/participant/ParticipantName.tsx","../src/components/participant/TrackMutedIndicator.tsx","../src/assets/images/ParticipantPlaceholder.tsx","../src/hooks/useMediaTrackBySourceOrName.ts","../../../node_modules/.pnpm/lodash.debounce@4.0.8/node_modules/lodash.debounce/index.js","../../../node_modules/.pnpm/usehooks-ts@3.1.0_react@18.3.1/node_modules/usehooks-ts/dist/index.js","../src/components/participant/VideoTrack.tsx","../src/components/participant/AudioTrack.tsx","../src/components/participant/ParticipantTile.tsx","../src/components/layout/FocusLayout.tsx","../src/components/TrackLoop.tsx","../src/components/controls/PaginationControl.tsx","../src/components/controls/PaginationIndicator.tsx","../src/components/layout/GridLayout.tsx","../src/components/layout/CarouselLayout.tsx","../src/components/layout/LayoutContextProvider.tsx","../src/components/participant/AudioVisualizer.tsx","../src/components/ParticipantLoop.tsx","../src/components/RoomAudioRenderer.tsx","../src/components/RoomName.tsx","../src/components/Toast.tsx","../src/components/participant/animationSequences/connectingSequence.ts","../src/components/participant/animationSequences/listeningSequence.ts","../src/components/participant/animators/useBarAnimator.ts","../src/components/participant/BarVisualizer.tsx","../src/components/participant/ParticipantAudioTile.tsx","../src/components/ConnectionStateToast.tsx","../src/components/ChatEntry.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useClearPinButton } from '../../hooks';\n\n/** @public */\nexport interface ClearPinButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {}\n\n/**\n * The `ClearPinButton` is a basic html button with the added ability to signal\n * the `LayoutContext` that it should display the grid view again.\n * @remarks\n * This component works only inside a `LayoutContext`.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <ClearPinButton>Back to grid view</ClearPinButton>\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport const ClearPinButton: (\n  props: ClearPinButtonProps & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLButtonElement, ClearPinButtonProps>(\n  function ClearPinButton(props: ClearPinButtonProps, ref) {\n    const { buttonProps } = useClearPinButton(props);\n    return (\n      <button ref={ref} {...buttonProps}>\n        {props.children}\n      </button>\n    );\n  },\n);\n","import type { Room } from 'livekit-client';\nimport * as React from 'react';\nimport { useConnectionState } from '../hooks';\n\n/** @public */\nexport interface ConnectionStatusProps extends React.HTMLAttributes<HTMLDivElement> {\n  /**\n   * The room from which the connection status should be displayed.\n   */\n  room?: Room;\n}\n\n/**\n * The `ConnectionState` component displays the connection status of the room as strings\n * (`\"connected\" | \"connecting\" | \"disconnected\" | \"reconnecting\"`).\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <ConnectionState />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport const ConnectionState: (\n  props: ConnectionStatusProps & React.RefAttributes<HTMLDivElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLDivElement, ConnectionStatusProps>(\n  function ConnectionState({ room, ...props }: ConnectionStatusProps, ref) {\n    const connectionState = useConnectionState(room);\n    return (\n      <div ref={ref} {...props}>\n        {connectionState}\n      </div>\n    );\n  },\n);\n","import * as React from 'react';\nimport { useChatToggle } from '../../hooks';\n\n/** @public */\nexport interface ChatToggleProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {}\n\n/**\n * The `ChatToggle` component is a button that toggles the visibility of the `Chat` component.\n * @remarks\n * For the component to have any effect it has to live inside a `LayoutContext` context.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <ToggleChat />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport const ChatToggle: (\n  props: ChatToggleProps & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLButtonElement, ChatToggleProps>(\n  function ChatToggle(props: ChatToggleProps, ref) {\n    const { mergedProps } = useChatToggle({ props });\n\n    return (\n      <button ref={ref} {...mergedProps}>\n        {props.children}\n      </button>\n    );\n  },\n);\n","import * as React from 'react';\nimport { useDisconnectButton } from '../../hooks';\n\n/** @public */\nexport interface DisconnectButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  stopTracks?: boolean;\n}\n\n/**\n * The `DisconnectButton` is a basic html button with the added ability to disconnect from a LiveKit room.\n * Normally this is the big red button that allows end users to leave the video or audio call.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <DisconnectButton>Leave room</DisconnectButton>\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport const DisconnectButton: (\n  props: DisconnectButtonProps & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLButtonElement, DisconnectButtonProps>(\n  function DisconnectButton(props: DisconnectButtonProps, ref) {\n    const { buttonProps } = useDisconnectButton(props);\n    return (\n      <button ref={ref} {...buttonProps}>\n        {props.children}\n      </button>\n    );\n  },\n);\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgCameraDisabledIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path d=\"M1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708L11 10.293V4.5A1.5 1.5 0 0 0 9.5 3H3.707zM0 4.5a1.5 1.5 0 0 1 .943-1.393l9.532 9.533c-.262.224-.603.36-.975.36h-8A1.5 1.5 0 0 1 0 11.5z\" />\n    <path d=\"m15.2 3.6-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" />\n  </svg>\n);\nexport default SvgCameraDisabledIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgCameraIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path d=\"M0 4.5A1.5 1.5 0 0 1 1.5 3h8A1.5 1.5 0 0 1 11 4.5v7A1.5 1.5 0 0 1 9.5 13h-8A1.5 1.5 0 0 1 0 11.5zM15.2 3.6l-2.8 2.1a1 1 0 0 0-.4.8v3a1 1 0 0 0 .4.8l2.8 2.1a.5.5 0 0 0 .8-.4V4a.5.5 0 0 0-.8-.4z\" />\n  </svg>\n);\nexport default SvgCameraIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgChatCloseIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} viewBox=\"0 0 24 24\" {...props}>\n    <path\n      fill=\"#FFF\"\n      d=\"M4.99 3.99a1 1 0 0 0-.697 1.717L10.586 12l-6.293 6.293a1 1 0 1 0 1.414 1.414L12 13.414l6.293 6.293a1 1 0 1 0 1.414-1.414L13.414 12l6.293-6.293a1 1 0 0 0-.727-1.717 1 1 0 0 0-.687.303L12 10.586 5.707 4.293a1 1 0 0 0-.717-.303z\"\n    />\n  </svg>\n);\nexport default SvgChatCloseIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgChatIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={18} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M0 2.75A2.75 2.75 0 0 1 2.75 0h10.5A2.75 2.75 0 0 1 16 2.75v13.594a.75.75 0 0 1-1.234.572l-3.691-3.12a1.25 1.25 0 0 0-.807-.296H2.75A2.75 2.75 0 0 1 0 10.75v-8ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v8c0 .69.56 1.25 1.25 1.25h7.518c.65 0 1.279.23 1.775.65l2.457 2.077V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M3 4.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5Zm0 2a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgChatIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgChevron = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentcolor\"\n      fillRule=\"evenodd\"\n      d=\"M5.293 2.293a1 1 0 0 1 1.414 0l4.823 4.823a1.25 1.25 0 0 1 0 1.768l-4.823 4.823a1 1 0 0 1-1.414-1.414L9.586 8 5.293 3.707a1 1 0 0 1 0-1.414z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgChevron;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgFocusToggleIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <g stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5}>\n      <path d=\"M10 1.75h4.25m0 0V6m0-4.25L9 7M6 14.25H1.75m0 0V10m0 4.25L7 9\" />\n    </g>\n  </svg>\n);\nexport default SvgFocusToggleIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgGearIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentcolor\"\n      fillRule=\"evenodd\"\n      d=\"M8.961.894C8.875-.298 7.125-.298 7.04.894c-.066.912-1.246 1.228-1.76.472-.67-.99-2.186-.115-1.664.96.399.824-.465 1.688-1.288 1.289-1.076-.522-1.95.994-.961 1.665.756.513.44 1.693-.472 1.759-1.192.086-1.192 1.836 0 1.922.912.066 1.228 1.246.472 1.76-.99.67-.115 2.186.96 1.664.824-.399 1.688.465 1.289 1.288-.522 1.076.994 1.95 1.665.961.513-.756 1.693-.44 1.759.472.086 1.192 1.836 1.192 1.922 0 .066-.912 1.246-1.228 1.76-.472.67.99 2.186.115 1.664-.96-.399-.824.465-1.688 1.288-1.289 1.076.522 1.95-.994.961-1.665-.756-.513-.44-1.693.472-1.759 1.192-.086 1.192-1.836 0-1.922-.912-.066-1.228-1.246-.472-1.76.99-.67.115-2.186-.96-1.664-.824.399-1.688-.465-1.289-1.288.522-1.076-.994-1.95-1.665-.961-.513.756-1.693.44-1.759-.472ZM8 13A5 5 0 1 0 8 3a5 5 0 0 0 0 10Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgGearIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgLeaveIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M2 2.75A2.75 2.75 0 0 1 4.75 0h6.5A2.75 2.75 0 0 1 14 2.75v10.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-.5a.75.75 0 0 1 1.5 0v.5c0 .69.56 1.25 1.25 1.25h6.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25h-6.5c-.69 0-1.25.56-1.25 1.25v.5a.75.75 0 0 1-1.5 0v-.5Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8.78 7.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 1 1-1.06-1.06l.97-.97H1.75a.75.75 0 0 1 0-1.5h4.69l-.97-.97a.75.75 0 0 1 1.06-1.06l2.25 2.25Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgLeaveIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgLockLockedIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentcolor\"\n      fillRule=\"evenodd\"\n      d=\"M4 6.104V4a4 4 0 1 1 8 0v2.104c1.154.326 2 1.387 2 2.646v4.5A2.75 2.75 0 0 1 11.25 16h-6.5A2.75 2.75 0 0 1 2 13.25v-4.5c0-1.259.846-2.32 2-2.646ZM5.5 4a2.5 2.5 0 0 1 5 0v2h-5V4Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgLockLockedIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgMicDisabledIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path d=\"M12.227 11.52a5.477 5.477 0 0 0 1.246-2.97.5.5 0 0 0-.995-.1 4.478 4.478 0 0 1-.962 2.359l-1.07-1.07C10.794 9.247 11 8.647 11 8V3a3 3 0 0 0-6 0v1.293L1.354.646a.5.5 0 1 0-.708.708l14 14a.5.5 0 0 0 .708-.708zM8 12.5c.683 0 1.33-.152 1.911-.425l.743.743c-.649.359-1.378.59-2.154.66V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .995-.098A4.5 4.5 0 0 0 8 12.5z\" />\n    <path d=\"M8.743 10.907 5 7.164V8a3 3 0 0 0 3.743 2.907z\" />\n  </svg>\n);\nexport default SvgMicDisabledIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgMicIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <path\n      fillRule=\"evenodd\"\n      d=\"M2.975 8.002a.5.5 0 0 1 .547.449 4.5 4.5 0 0 0 8.956 0 .5.5 0 1 1 .995.098A5.502 5.502 0 0 1 8.5 13.478V15h2a.5.5 0 0 1 0 1h-5a.5.5 0 0 1 0-1h2v-1.522a5.502 5.502 0 0 1-4.973-4.929.5.5 0 0 1 .448-.547z\"\n      clipRule=\"evenodd\"\n    />\n    <path d=\"M5 3a3 3 0 1 1 6 0v5a3 3 0 0 1-6 0z\" />\n  </svg>\n);\nexport default SvgMicIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgQualityExcellentIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentcolor\" {...props}>\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n  </svg>\n);\nexport default SvgQualityExcellentIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgQualityGoodIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentcolor\" {...props}>\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <g opacity={0.25}>\n      <path d=\"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    </g>\n  </svg>\n);\nexport default SvgQualityGoodIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgQualityPoorIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentcolor\" {...props}>\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    <g opacity={0.25}>\n      <path d=\"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M6 6.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n      <path d=\"M12 .5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5z\" />\n    </g>\n  </svg>\n);\nexport default SvgQualityPoorIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgQualityUnknownIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"currentColor\" {...props}>\n    <g opacity={0.25}>\n      <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" />\n      <path d=\"M0 11.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-4Zm6-5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-9Zm6-6a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v15a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V.5Z\" />\n    </g>\n  </svg>\n);\nexport default SvgQualityUnknownIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgScreenShareIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={20} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M0 2.75A2.75 2.75 0 0 1 2.75 0h14.5A2.75 2.75 0 0 1 20 2.75v10.5A2.75 2.75 0 0 1 17.25 16H2.75A2.75 2.75 0 0 1 0 13.25V2.75ZM2.75 1.5c-.69 0-1.25.56-1.25 1.25v10.5c0 .69.56 1.25 1.25 1.25h14.5c.69 0 1.25-.56 1.25-1.25V2.75c0-.69-.56-1.25-1.25-1.25H2.75Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M9.47 4.22a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v4.69a.75.75 0 0 1-1.5 0V6.56l-.97.97a.75.75 0 0 1-1.06-1.06l2.25-2.25Z\"\n      clipRule=\"evenodd\"\n    />\n  </svg>\n);\nexport default SvgScreenShareIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgScreenShareStopIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={20} height={16} fill=\"none\" {...props}>\n    <g fill=\"currentColor\">\n      <path d=\"M7.28 4.22a.75.75 0 0 0-1.06 1.06L8.94 8l-2.72 2.72a.75.75 0 1 0 1.06 1.06L10 9.06l2.72 2.72a.75.75 0 1 0 1.06-1.06L11.06 8l2.72-2.72a.75.75 0 0 0-1.06-1.06L10 6.94z\" />\n      <path\n        fillRule=\"evenodd\"\n        d=\"M2.75 0A2.75 2.75 0 0 0 0 2.75v10.5A2.75 2.75 0 0 0 2.75 16h14.5A2.75 2.75 0 0 0 20 13.25V2.75A2.75 2.75 0 0 0 17.25 0zM1.5 2.75c0-.69.56-1.25 1.25-1.25h14.5c.69 0 1.25.56 1.25 1.25v10.5c0 .69-.56 1.25-1.25 1.25H2.75c-.69 0-1.25-.56-1.25-1.25z\"\n        clipRule=\"evenodd\"\n      />\n    </g>\n  </svg>\n);\nexport default SvgScreenShareStopIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgSpinnerIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8 0a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0V.75A.75.75 0 0 1 8 0Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M8 12a.75.75 0 0 1 .75.75v2.5a.75.75 0 0 1-1.5 0v-2.5A.75.75 0 0 1 8 12Z\"\n      clipRule=\"evenodd\"\n      opacity={0.7}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M12 1.072a.75.75 0 0 1 .274 1.024l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 12 1.072Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M6 11.464a.75.75 0 0 1 .274 1.025l-1.25 2.165a.75.75 0 0 1-1.299-.75l1.25-2.165A.75.75 0 0 1 6 11.464Z\"\n      clipRule=\"evenodd\"\n      opacity={0.6}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M14.928 4a.75.75 0 0 1-.274 1.025l-2.165 1.25a.75.75 0 1 1-.75-1.3l2.165-1.25A.75.75 0 0 1 14.928 4Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M4.536 10a.75.75 0 0 1-.275 1.024l-2.165 1.25a.75.75 0 0 1-.75-1.298l2.165-1.25A.75.75 0 0 1 4.536 10Z\"\n      clipRule=\"evenodd\"\n      opacity={0.5}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M16 8a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 16 8Z\"\n      clipRule=\"evenodd\"\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M4 8a.75.75 0 0 1-.75.75H.75a.75.75 0 0 1 0-1.5h2.5A.75.75 0 0 1 4 8Z\"\n      clipRule=\"evenodd\"\n      opacity={0.4}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M14.928 12a.75.75 0 0 1-1.024.274l-2.165-1.25a.75.75 0 0 1 .75-1.299l2.165 1.25A.75.75 0 0 1 14.928 12Z\"\n      clipRule=\"evenodd\"\n      opacity={0.9}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M4.536 6a.75.75 0 0 1-1.025.275l-2.165-1.25a.75.75 0 1 1 .75-1.3l2.165 1.25A.75.75 0 0 1 4.536 6Z\"\n      clipRule=\"evenodd\"\n      opacity={0.3}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M12 14.928a.75.75 0 0 1-1.024-.274l-1.25-2.165a.75.75 0 0 1 1.298-.75l1.25 2.165A.75.75 0 0 1 12 14.928Z\"\n      clipRule=\"evenodd\"\n      opacity={0.8}\n    />\n    <path\n      fill=\"currentColor\"\n      fillRule=\"evenodd\"\n      d=\"M6 4.536a.75.75 0 0 1-1.024-.275l-1.25-2.165a.75.75 0 1 1 1.299-.75l1.25 2.165A.75.75 0 0 1 6 4.536Z\"\n      clipRule=\"evenodd\"\n      opacity={0.2}\n    />\n  </svg>\n);\nexport default SvgSpinnerIcon;\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgUnfocusToggleIcon = (props: SVGProps<SVGSVGElement>) => (\n  <svg xmlns=\"http://www.w3.org/2000/svg\" width={16} height={16} fill=\"none\" {...props}>\n    <g stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1.5}>\n      <path d=\"M13.25 7H9m0 0V2.75M9 7l5.25-5.25M2.75 9H7m0 0v4.25M7 9l-5.25 5.25\" />\n    </g>\n  </svg>\n);\nexport default SvgUnfocusToggleIcon;\n","import * as React from 'react';\nimport { LayoutContext, useMaybeTrackRefContext } from '../../context';\nimport { FocusToggleIcon, UnfocusToggleIcon } from '../../assets/icons';\nimport { useFocusToggle } from '../../hooks';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\n\n/** @public */\nexport interface FocusToggleProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  trackRef?: TrackReferenceOrPlaceholder;\n}\n\n/**\n * The `FocusToggle` puts the `ParticipantTile` in focus or removes it from focus.\n * @remarks\n * This component needs to live inside `LayoutContext` to work properly.\n *\n * @example\n * ```tsx\n * <ParticipantTile>\n *   <FocusToggle />\n * </ParticipantTile>\n * ```\n * @public\n */\nexport const FocusToggle: (\n  props: FocusToggleProps & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLButtonElement, FocusToggleProps>(\n  function FocusToggle({ trackRef, ...props }: FocusToggleProps, ref) {\n    const trackRefFromContext = useMaybeTrackRefContext();\n\n    const { mergedProps, inFocus } = useFocusToggle({\n      trackRef: trackRef ?? trackRefFromContext,\n      props,\n    });\n\n    return (\n      <LayoutContext.Consumer>\n        {(layoutContext) =>\n          layoutContext !== undefined && (\n            <button ref={ref} {...mergedProps}>\n              {props.children ? (\n                props.children\n              ) : inFocus ? (\n                <UnfocusToggleIcon />\n              ) : (\n                <FocusToggleIcon />\n              )}\n            </button>\n          )\n        }\n      </LayoutContext.Consumer>\n    );\n  },\n);\n","import * as React from 'react';\nimport { mergeProps as mergePropsReactAria } from './mergeProps';\nimport { log } from '@livekit/components-core';\nimport clsx from 'clsx';\n\n/** @internal */\nexport function isProp<U extends HTMLElement, T extends React.HTMLAttributes<U>>(\n  prop: T | undefined,\n): prop is T {\n  return prop !== undefined;\n}\n\n/** @internal */\nexport function mergeProps<\n  U extends HTMLElement,\n  T extends Array<React.HTMLAttributes<U> | undefined>,\n>(...props: T) {\n  return mergePropsReactAria(...props.filter(isProp));\n}\n\n/** @internal */\nexport function cloneSingleChild(\n  children: React.ReactNode | React.ReactNode[],\n  props?: Record<string, any>,\n  key?: any,\n) {\n  return React.Children.map(children, (child) => {\n    // Checking isValidElement is the safe way and avoids a typescript\n    // error too.\n    if (React.isValidElement(child) && React.Children.only(children)) {\n      if (child.props.class) {\n        // make sure we retain classnames of both passed props and child\n        props ??= {};\n        props.class = clsx(child.props.class, props.class);\n        props.style = { ...child.props.style, ...props.style };\n      }\n      return React.cloneElement(child, { ...props, key });\n    }\n    return child;\n  });\n}\n\n/**\n * @internal\n */\nexport function warnAboutMissingStyles(el?: HTMLElement) {\n  if (\n    typeof window !== 'undefined' &&\n    typeof process !== 'undefined' &&\n    // eslint-disable-next-line turbo/no-undeclared-env-vars\n    (process?.env?.NODE_ENV === 'dev' ||\n      // eslint-disable-next-line turbo/no-undeclared-env-vars\n      process?.env?.NODE_ENV === 'development')\n  ) {\n    const target = el ?? document.querySelector('.lk-room-container');\n    if (target && !getComputedStyle(target).getPropertyValue('--lk-has-imported-styles')) {\n      log.warn(\n        \"It looks like you're not using the `@livekit/components-styles package`. To render the UI with the default styling, please import it in your layout or page.\",\n      );\n    }\n  }\n}\n","import * as React from 'react';\nimport { useMaybeRoomContext } from '../../context';\nimport { mergeProps } from '../../utils';\nimport { RoomEvent, type LocalAudioTrack, type LocalVideoTrack } from 'livekit-client';\nimport { useMediaDeviceSelect } from '../../hooks';\n\n/** @public */\nexport interface MediaDeviceSelectProps\n  extends Omit<React.HTMLAttributes<HTMLUListElement>, 'onError'> {\n  kind: MediaDeviceKind;\n  onActiveDeviceChange?: (deviceId: string) => void;\n  onDeviceListChange?: (devices: MediaDeviceInfo[]) => void;\n  onDeviceSelectError?: (e: Error) => void;\n  initialSelection?: string;\n  /** will force the browser to only return the specified device\n   * will call `onDeviceSelectError` with the error in case this fails\n   */\n  exactMatch?: boolean;\n  track?: LocalAudioTrack | LocalVideoTrack;\n  /**\n   * this will call getUserMedia if the permissions are not yet given to enumerate the devices with device labels.\n   * in some browsers multiple calls to getUserMedia result in multiple permission prompts.\n   * It's generally advised only flip this to true, once a (preview) track has been acquired successfully with the\n   * appropriate permissions.\n   *\n   * @see {@link MediaDeviceMenu}\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/enumerateDevices | MDN enumerateDevices}\n   */\n  requestPermissions?: boolean;\n  onError?: (e: Error) => void;\n}\n\n/**\n * The `MediaDeviceSelect` list all media devices of one kind.\n * Clicking on one of the listed devices make it the active media device.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <MediaDeviceSelect kind='audioinput' />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport const MediaDeviceSelect: (\n  props: MediaDeviceSelectProps & React.RefAttributes<HTMLUListElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLUListElement, MediaDeviceSelectProps>(\n  function MediaDeviceSelect(\n    {\n      kind,\n      initialSelection,\n      onActiveDeviceChange,\n      onDeviceListChange,\n      onDeviceSelectError,\n      exactMatch,\n      track,\n      requestPermissions,\n      onError,\n      ...props\n    }: MediaDeviceSelectProps,\n    ref,\n  ) {\n    const room = useMaybeRoomContext();\n    const handleError = React.useCallback(\n      (e: Error) => {\n        if (room) {\n          // awkwardly emit the event from outside of the room, as we don't have other means to raise a MediaDeviceError\n          room.emit(RoomEvent.MediaDevicesError, e);\n        }\n        onError?.(e);\n      },\n      [room, onError],\n    );\n    const { devices, activeDeviceId, setActiveMediaDevice, className } = useMediaDeviceSelect({\n      kind,\n      room,\n      track,\n      requestPermissions,\n      onError: handleError,\n    });\n    React.useEffect(() => {\n      if (initialSelection !== undefined) {\n        setActiveMediaDevice(initialSelection);\n      }\n    }, [setActiveMediaDevice]);\n\n    React.useEffect(() => {\n      if (typeof onDeviceListChange === 'function') {\n        onDeviceListChange(devices);\n      }\n    }, [onDeviceListChange, devices]);\n\n    React.useEffect(() => {\n      if (activeDeviceId && activeDeviceId !== '') {\n        onActiveDeviceChange?.(activeDeviceId);\n      }\n    }, [activeDeviceId]);\n\n    const handleActiveDeviceChange = async (deviceId: string) => {\n      try {\n        await setActiveMediaDevice(deviceId, { exact: exactMatch });\n      } catch (e) {\n        if (e instanceof Error) {\n          onDeviceSelectError?.(e);\n        } else {\n          throw e;\n        }\n      }\n    };\n    // Merge Props\n    const mergedProps = React.useMemo(\n      () => mergeProps(props, { className }, { className: 'lk-list' }),\n      [className, props],\n    );\n\n    function isActive(deviceId: string, activeDeviceId: string, index: number) {\n      return deviceId === activeDeviceId || (index === 0 && activeDeviceId === 'default');\n    }\n\n    return (\n      <ul ref={ref} {...mergedProps}>\n        {devices.map((device, index) => (\n          <li\n            key={device.deviceId}\n            id={device.deviceId}\n            data-lk-active={isActive(device.deviceId, activeDeviceId, index)}\n            aria-selected={isActive(device.deviceId, activeDeviceId, index)}\n            role=\"option\"\n          >\n            <button className=\"lk-button\" onClick={() => handleActiveDeviceChange(device.deviceId)}>\n              {device.label}\n            </button>\n          </li>\n        ))}\n      </ul>\n    );\n  },\n);\n","import * as React from 'react';\nimport { useRoomContext } from '../../context';\nimport { useStartAudio } from '../../hooks';\n\n/** @public */\nexport interface AllowAudioPlaybackProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  label: string;\n}\n\n/**\n * The `StartAudio` component is only visible when the browser blocks audio playback. This is due to some browser implemented autoplay policies.\n * To start audio playback, the user must perform a user-initiated event such as clicking this button.\n * As soon as audio playback starts, the button hides itself again.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <StartAudio label=\"Click to allow audio playback\" />\n * </LiveKitRoom>\n * ```\n *\n * @see Autoplay policy on MDN web docs: {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Best_practices#autoplay_policy}\n * @public\n */\nexport const StartAudio: (\n  props: AllowAudioPlaybackProps & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLButtonElement, AllowAudioPlaybackProps>(\n  function StartAudio({ label = 'Allow Audio', ...props }: AllowAudioPlaybackProps, ref) {\n    const room = useRoomContext();\n    const { mergedProps } = useStartAudio({ room, props });\n\n    return (\n      <button ref={ref} {...mergedProps}>\n        {label}\n      </button>\n    );\n  },\n);\n","import * as React from 'react';\nimport { useRoomContext } from '../../context';\nimport { useStartAudio, useStartVideo } from '../../hooks';\n\n/** @public */\nexport interface AllowMediaPlaybackProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  label?: string;\n}\n\n/**\n * The `StartMediaButton` component is only visible when the browser blocks media playback. This is due to some browser implemented autoplay policies.\n * To start media playback, the user must perform a user-initiated event such as clicking this button.\n * As soon as media playback starts, the button hides itself again.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <StartMediaButton label=\"Click to allow media playback\" />\n * </LiveKitRoom>\n * ```\n *\n * @see Autoplay policy on MDN web docs: {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API/Best_practices#autoplay_policy}\n * @public\n */\nexport const StartMediaButton: (\n  props: AllowMediaPlaybackProps & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLButtonElement, AllowMediaPlaybackProps>(\n  function StartMediaButton({ label, ...props }: AllowMediaPlaybackProps, ref) {\n    const room = useRoomContext();\n    const { mergedProps: audioProps, canPlayAudio } = useStartAudio({ room, props });\n    const { mergedProps, canPlayVideo } = useStartVideo({ room, props: audioProps });\n    const { style, ...restProps } = mergedProps;\n    style.display = canPlayAudio && canPlayVideo ? 'none' : 'block';\n\n    return (\n      <button ref={ref} style={style} {...restProps}>\n        {label ?? `Start ${!canPlayAudio ? 'Audio' : 'Video'}`}\n      </button>\n    );\n  },\n);\n","import * as React from 'react';\nimport { ConnectionQuality, Track } from 'livekit-client';\n\nimport {\n  MicIcon,\n  MicDisabledIcon,\n  CameraIcon,\n  CameraDisabledIcon,\n  QualityUnknownIcon,\n  QualityExcellentIcon,\n  QualityGoodIcon,\n  QualityPoorIcon,\n  ScreenShareIcon,\n  ScreenShareStopIcon,\n} from './index';\n\n/**\n * @internal\n */\nexport function getSourceIcon(source: Track.Source, enabled: boolean) {\n  switch (source) {\n    case Track.Source.Microphone:\n      return enabled ? <MicIcon /> : <MicDisabledIcon />;\n    case Track.Source.Camera:\n      return enabled ? <CameraIcon /> : <CameraDisabledIcon />;\n    case Track.Source.ScreenShare:\n      return enabled ? <ScreenShareStopIcon /> : <ScreenShareIcon />;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * @internal\n */\nexport function getConnectionQualityIcon(quality: ConnectionQuality) {\n  switch (quality) {\n    case ConnectionQuality.Excellent:\n      return <QualityExcellentIcon />;\n    case ConnectionQuality.Good:\n      return <QualityGoodIcon />;\n    case ConnectionQuality.Poor:\n      return <QualityPoorIcon />;\n    default:\n      return <QualityUnknownIcon />;\n  }\n}\n","import type { CaptureOptionsBySource, ToggleSource } from '@livekit/components-core';\nimport * as React from 'react';\nimport { getSourceIcon } from '../../assets/icons/util';\nimport { useTrackToggle } from '../../hooks';\nimport { TrackPublishOptions } from 'livekit-client';\n\n/** @public */\nexport interface TrackToggleProps<T extends ToggleSource>\n  extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'onChange'> {\n  source: T;\n  showIcon?: boolean;\n  initialState?: boolean;\n  /**\n   * Function that is called when the enabled state of the toggle changes.\n   * The second function argument `isUserInitiated` is `true` if the change was initiated by a user interaction, such as a click.\n   */\n  onChange?: (enabled: boolean, isUserInitiated: boolean) => void;\n  captureOptions?: CaptureOptionsBySource<T>;\n  publishOptions?: TrackPublishOptions;\n  onDeviceError?: (error: Error) => void;\n}\n\n/**\n * With the `TrackToggle` component it is possible to mute and unmute your camera and microphone.\n * The component uses an html button element under the hood so you can treat it like a button.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <TrackToggle source={Track.Source.Microphone} />\n *   <TrackToggle source={Track.Source.Camera} />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport const TrackToggle: <T extends ToggleSource>(\n  props: TrackToggleProps<T> & React.RefAttributes<HTMLButtonElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef(function TrackToggle<\n  T extends ToggleSource,\n>({ showIcon, ...props }: TrackToggleProps<T>, ref: React.ForwardedRef<HTMLButtonElement>) {\n  const { buttonProps, enabled } = useTrackToggle(props);\n  return (\n    <button ref={ref} {...buttonProps}>\n      {(showIcon ?? true) && getSourceIcon(props.source, enabled)}\n      {props.children}\n    </button>\n  );\n});\n","import * as React from 'react';\nimport { mergeProps } from '../../utils';\nimport { getConnectionQualityIcon } from '../../assets/icons/util';\nimport type { ConnectionQualityIndicatorOptions } from '../../hooks';\nimport { useConnectionQualityIndicator } from '../../hooks';\n\n/** @public */\nexport interface ConnectionQualityIndicatorProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    ConnectionQualityIndicatorOptions {}\n\n/**\n * The `ConnectionQualityIndicator` shows the individual connection quality of a participant.\n *\n * @example\n * ```tsx\n * <ConnectionQualityIndicator />\n * ```\n * @public\n */\nexport const ConnectionQualityIndicator: (\n  props: ConnectionQualityIndicatorProps & React.RefAttributes<HTMLDivElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<\n  HTMLDivElement,\n  ConnectionQualityIndicatorProps\n>(function ConnectionQualityIndicator(props: ConnectionQualityIndicatorProps, ref) {\n  const { className, quality } = useConnectionQualityIndicator(props);\n  const elementProps = React.useMemo(() => {\n    return { ...mergeProps(props, { className: className as string }), 'data-lk-quality': quality };\n  }, [quality, props, className]);\n  return (\n    <div ref={ref} {...elementProps}>\n      {props.children ?? getConnectionQualityIcon(quality)}\n    </div>\n  );\n});\n","import { setupParticipantName } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useEnsureParticipant } from '../../context';\nimport { useObservableState } from '../../hooks/internal/useObservableState';\nimport { mergeProps } from '../../utils';\nimport type { UseParticipantInfoOptions } from '../../hooks';\n\n/** @public */\nexport interface ParticipantNameProps\n  extends React.HTMLAttributes<HTMLSpanElement>,\n    UseParticipantInfoOptions {}\n\n/**\n * The `ParticipantName` component displays the name of the participant as a string within an HTML span element.\n * If no participant name is undefined the participant identity string is displayed.\n *\n * @example\n * ```tsx\n * <ParticipantName />\n * ```\n * @public\n */\nexport const ParticipantName: (\n  props: ParticipantNameProps & React.RefAttributes<HTMLSpanElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLSpanElement, ParticipantNameProps>(\n  function ParticipantName({ participant, ...props }: ParticipantNameProps, ref) {\n    const p = useEnsureParticipant(participant);\n\n    const { className, infoObserver } = React.useMemo(() => {\n      return setupParticipantName(p);\n    }, [p]);\n\n    const { identity, name } = useObservableState(infoObserver, {\n      name: p.name,\n      identity: p.identity,\n      metadata: p.metadata,\n    });\n\n    const mergedProps = React.useMemo(() => {\n      return mergeProps(props, { className, 'data-lk-participant-name': name });\n    }, [props, className, name]);\n\n    return (\n      <span ref={ref} {...mergedProps}>\n        {name !== '' ? name : identity}\n        {props.children}\n      </span>\n    );\n  },\n);\n","import * as React from 'react';\nimport { mergeProps } from '../../utils';\nimport { getSourceIcon } from '../../assets/icons/util';\nimport { useTrackMutedIndicator } from '../../hooks';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\n\n/** @public */\nexport interface TrackMutedIndicatorProps extends React.HTMLAttributes<HTMLDivElement> {\n  trackRef: TrackReferenceOrPlaceholder;\n  show?: 'always' | 'muted' | 'unmuted';\n}\n\n/**\n * The `TrackMutedIndicator` shows whether the participant's camera or microphone is muted or not.\n * By default, a muted/unmuted icon is displayed for a camera, microphone, and screen sharing track.\n *\n * @example\n * ```tsx\n * <TrackMutedIndicator trackRef={trackRef} />\n * ```\n * @public\n */\nexport const TrackMutedIndicator: (\n  props: TrackMutedIndicatorProps & React.RefAttributes<HTMLDivElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLDivElement, TrackMutedIndicatorProps>(\n  function TrackMutedIndicator(\n    { trackRef, show = 'always', ...props }: TrackMutedIndicatorProps,\n    ref,\n  ) {\n    const { className, isMuted } = useTrackMutedIndicator(trackRef);\n\n    const showIndicator =\n      show === 'always' || (show === 'muted' && isMuted) || (show === 'unmuted' && !isMuted);\n\n    const htmlProps = React.useMemo(\n      () =>\n        mergeProps(props, {\n          className,\n        }),\n      [className, props],\n    );\n\n    if (!showIndicator) {\n      return null;\n    }\n\n    return (\n      <div ref={ref} {...htmlProps} data-lk-muted={isMuted}>\n        {props.children ?? getSourceIcon(trackRef.source, !isMuted)}\n      </div>\n    );\n  },\n);\n","/**\n * WARNING: This file was auto-generated by svgr. Do not edit.\n */\nimport * as React from 'react';\nimport type { SVGProps } from 'react';\n/**\n * @internal\n */\nconst SvgParticipantPlaceholder = (props: SVGProps<SVGSVGElement>) => (\n  <svg\n    width={320}\n    height={320}\n    viewBox=\"0 0 320 320\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    {...props}\n  >\n    <path\n      d=\"M160 180C204.182 180 240 144.183 240 100C240 55.8172 204.182 20 160 20C115.817 20 79.9997 55.8172 79.9997 100C79.9997 144.183 115.817 180 160 180Z\"\n      fill=\"white\"\n      fillOpacity={0.25}\n    />\n    <path\n      d=\"M97.6542 194.614C103.267 191.818 109.841 192.481 115.519 195.141C129.025 201.466 144.1 205 159.999 205C175.899 205 190.973 201.466 204.48 195.141C210.158 192.481 216.732 191.818 222.345 194.614C262.703 214.719 291.985 253.736 298.591 300.062C300.15 310.997 291.045 320 280 320H39.9997C28.954 320 19.8495 310.997 21.4087 300.062C28.014 253.736 57.2966 214.72 97.6542 194.614Z\"\n      fill=\"white\"\n      fillOpacity={0.25}\n    />\n  </svg>\n);\nexport default SvgParticipantPlaceholder;\n","import type { TrackIdentifier } from '@livekit/components-core';\nimport { isTrackReference } from '@livekit/components-core';\nimport { setupMediaTrack, log, isLocal, getTrackByIdentifier } from '@livekit/components-core';\nimport * as React from 'react';\nimport { mergeProps } from '../utils';\n\n/** @public */\nexport interface UseMediaTrackOptions {\n  element?: React.RefObject<HTMLMediaElement> | null;\n  props?: React.HTMLAttributes<HTMLVideoElement | HTMLAudioElement>;\n}\n\n/**\n * @internal\n */\nexport function useMediaTrackBySourceOrName(\n  observerOptions: TrackIdentifier,\n  options: UseMediaTrackOptions = {},\n) {\n  const [publication, setPublication] = React.useState(getTrackByIdentifier(observerOptions));\n\n  const [isMuted, setMuted] = React.useState(publication?.isMuted);\n  const [isSubscribed, setSubscribed] = React.useState(publication?.isSubscribed);\n\n  const [track, setTrack] = React.useState(publication?.track);\n  const [orientation, setOrientation] = React.useState<'landscape' | 'portrait'>('landscape');\n  const previousElement = React.useRef<HTMLMediaElement | undefined | null>();\n\n  const { className, trackObserver } = React.useMemo(() => {\n    return setupMediaTrack(observerOptions);\n  }, [\n    observerOptions.participant.sid ?? observerOptions.participant.identity,\n    observerOptions.source,\n    isTrackReference(observerOptions) && observerOptions.publication.trackSid,\n  ]);\n\n  React.useEffect(() => {\n    const subscription = trackObserver.subscribe((publication) => {\n      log.debug('update track', publication);\n      setPublication(publication);\n      setMuted(publication?.isMuted);\n      setSubscribed(publication?.isSubscribed);\n      setTrack(publication?.track);\n    });\n    return () => subscription?.unsubscribe();\n  }, [trackObserver]);\n\n  React.useEffect(() => {\n    if (track) {\n      if (previousElement.current) {\n        track.detach(previousElement.current);\n      }\n      if (\n        options.element?.current &&\n        !(isLocal(observerOptions.participant) && track?.kind === 'audio')\n      ) {\n        track.attach(options.element.current);\n      }\n    }\n    previousElement.current = options.element?.current;\n    return () => {\n      if (previousElement.current) {\n        track?.detach(previousElement.current);\n      }\n    };\n  }, [track, options.element]);\n\n  React.useEffect(() => {\n    // Set the orientation of the video track.\n    // TODO: This does not handle changes in orientation after a track got published (e.g when rotating a phone camera from portrait to landscape).\n    if (\n      typeof publication?.dimensions?.width === 'number' &&\n      typeof publication?.dimensions?.height === 'number'\n    ) {\n      const orientation_ =\n        publication.dimensions.width > publication.dimensions.height ? 'landscape' : 'portrait';\n      setOrientation(orientation_);\n    }\n  }, [publication]);\n\n  return {\n    publication,\n    isMuted,\n    isSubscribed,\n    track,\n    elementProps: mergeProps(options.props, {\n      className,\n      'data-lk-local-participant': observerOptions.participant.isLocal,\n      'data-lk-source': publication?.source,\n      ...(publication?.kind === 'video' && { 'data-lk-orientation': orientation }),\n    }),\n  };\n}\n","/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        result = wait - timeSinceLastCall;\n\n    return maxing ? nativeMin(result, maxWait - timeSinceLastInvoke) : result;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n","import { useState, useCallback, useLayoutEffect, useEffect, useRef, useMemo } from 'react';\nimport debounce from 'lodash.debounce';\n\n// src/useBoolean/useBoolean.ts\nfunction useBoolean(defaultValue = false) {\n  if (typeof defaultValue !== \"boolean\") {\n    throw new Error(\"defaultValue must be `true` or `false`\");\n  }\n  const [value, setValue] = useState(defaultValue);\n  const setTrue = useCallback(() => {\n    setValue(true);\n  }, []);\n  const setFalse = useCallback(() => {\n    setValue(false);\n  }, []);\n  const toggle = useCallback(() => {\n    setValue((x) => !x);\n  }, []);\n  return { value, setValue, setTrue, setFalse, toggle };\n}\nvar useIsomorphicLayoutEffect = typeof window !== \"undefined\" ? useLayoutEffect : useEffect;\n\n// src/useEventListener/useEventListener.ts\nfunction useEventListener(eventName, handler, element, options) {\n  const savedHandler = useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(() => {\n    const targetElement = (element == null ? void 0 : element.current) ?? window;\n    if (!(targetElement && targetElement.addEventListener))\n      return;\n    const listener = (event) => {\n      savedHandler.current(event);\n    };\n    targetElement.addEventListener(eventName, listener, options);\n    return () => {\n      targetElement.removeEventListener(eventName, listener, options);\n    };\n  }, [eventName, element, options]);\n}\n\n// src/useClickAnyWhere/useClickAnyWhere.ts\nfunction useClickAnyWhere(handler) {\n  useEventListener(\"click\", (event) => {\n    handler(event);\n  });\n}\nfunction useCopyToClipboard() {\n  const [copiedText, setCopiedText] = useState(null);\n  const copy = useCallback(async (text) => {\n    if (!(navigator == null ? void 0 : navigator.clipboard)) {\n      console.warn(\"Clipboard not supported\");\n      return false;\n    }\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedText(text);\n      return true;\n    } catch (error) {\n      console.warn(\"Copy failed\", error);\n      setCopiedText(null);\n      return false;\n    }\n  }, []);\n  return [copiedText, copy];\n}\nfunction useCounter(initialValue) {\n  const [count, setCount] = useState(initialValue ?? 0);\n  const increment = useCallback(() => {\n    setCount((x) => x + 1);\n  }, []);\n  const decrement = useCallback(() => {\n    setCount((x) => x - 1);\n  }, []);\n  const reset = useCallback(() => {\n    setCount(initialValue ?? 0);\n  }, [initialValue]);\n  return {\n    count,\n    increment,\n    decrement,\n    reset,\n    setCount\n  };\n}\nfunction useInterval(callback, delay) {\n  const savedCallback = useRef(callback);\n  useIsomorphicLayoutEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  useEffect(() => {\n    if (delay === null) {\n      return;\n    }\n    const id = setInterval(() => {\n      savedCallback.current();\n    }, delay);\n    return () => {\n      clearInterval(id);\n    };\n  }, [delay]);\n}\n\n// src/useCountdown/useCountdown.ts\nfunction useCountdown({\n  countStart,\n  countStop = 0,\n  intervalMs = 1e3,\n  isIncrement = false\n}) {\n  const {\n    count,\n    increment,\n    decrement,\n    reset: resetCounter\n  } = useCounter(countStart);\n  const {\n    value: isCountdownRunning,\n    setTrue: startCountdown,\n    setFalse: stopCountdown\n  } = useBoolean(false);\n  const resetCountdown = useCallback(() => {\n    stopCountdown();\n    resetCounter();\n  }, [stopCountdown, resetCounter]);\n  const countdownCallback = useCallback(() => {\n    if (count === countStop) {\n      stopCountdown();\n      return;\n    }\n    if (isIncrement) {\n      increment();\n    } else {\n      decrement();\n    }\n  }, [count, countStop, decrement, increment, isIncrement, stopCountdown]);\n  useInterval(countdownCallback, isCountdownRunning ? intervalMs : null);\n  return [count, { startCountdown, stopCountdown, resetCountdown }];\n}\nfunction useEventCallback(fn) {\n  const ref = useRef(() => {\n    throw new Error(\"Cannot call an event handler while rendering.\");\n  });\n  useIsomorphicLayoutEffect(() => {\n    ref.current = fn;\n  }, [fn]);\n  return useCallback((...args) => {\n    var _a;\n    return (_a = ref.current) == null ? void 0 : _a.call(ref, ...args);\n  }, [ref]);\n}\n\n// src/useLocalStorage/useLocalStorage.ts\nvar IS_SERVER = typeof window === \"undefined\";\nfunction useLocalStorage(key, initialValue, options = {}) {\n  const { initializeWithValue = true } = options;\n  const serializer = useCallback(\n    (value) => {\n      if (options.serializer) {\n        return options.serializer(value);\n      }\n      return JSON.stringify(value);\n    },\n    [options]\n  );\n  const deserializer = useCallback(\n    (value) => {\n      if (options.deserializer) {\n        return options.deserializer(value);\n      }\n      if (value === \"undefined\") {\n        return void 0;\n      }\n      const defaultValue = initialValue instanceof Function ? initialValue() : initialValue;\n      let parsed;\n      try {\n        parsed = JSON.parse(value);\n      } catch (error) {\n        console.error(\"Error parsing JSON:\", error);\n        return defaultValue;\n      }\n      return parsed;\n    },\n    [options, initialValue]\n  );\n  const readValue = useCallback(() => {\n    const initialValueToUse = initialValue instanceof Function ? initialValue() : initialValue;\n    if (IS_SERVER) {\n      return initialValueToUse;\n    }\n    try {\n      const raw = window.localStorage.getItem(key);\n      return raw ? deserializer(raw) : initialValueToUse;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \\u201C${key}\\u201D:`, error);\n      return initialValueToUse;\n    }\n  }, [initialValue, key, deserializer]);\n  const [storedValue, setStoredValue] = useState(() => {\n    if (initializeWithValue) {\n      return readValue();\n    }\n    return initialValue instanceof Function ? initialValue() : initialValue;\n  });\n  const setValue = useEventCallback((value) => {\n    if (IS_SERVER) {\n      console.warn(\n        `Tried setting localStorage key \\u201C${key}\\u201D even though environment is not a client`\n      );\n    }\n    try {\n      const newValue = value instanceof Function ? value(readValue()) : value;\n      window.localStorage.setItem(key, serializer(newValue));\n      setStoredValue(newValue);\n      window.dispatchEvent(new StorageEvent(\"local-storage\", { key }));\n    } catch (error) {\n      console.warn(`Error setting localStorage key \\u201C${key}\\u201D:`, error);\n    }\n  });\n  const removeValue = useEventCallback(() => {\n    if (IS_SERVER) {\n      console.warn(\n        `Tried removing localStorage key \\u201C${key}\\u201D even though environment is not a client`\n      );\n    }\n    const defaultValue = initialValue instanceof Function ? initialValue() : initialValue;\n    window.localStorage.removeItem(key);\n    setStoredValue(defaultValue);\n    window.dispatchEvent(new StorageEvent(\"local-storage\", { key }));\n  });\n  useEffect(() => {\n    setStoredValue(readValue());\n  }, [key]);\n  const handleStorageChange = useCallback(\n    (event) => {\n      if (event.key && event.key !== key) {\n        return;\n      }\n      setStoredValue(readValue());\n    },\n    [key, readValue]\n  );\n  useEventListener(\"storage\", handleStorageChange);\n  useEventListener(\"local-storage\", handleStorageChange);\n  return [storedValue, setValue, removeValue];\n}\nvar IS_SERVER2 = typeof window === \"undefined\";\nfunction useMediaQuery(query, {\n  defaultValue = false,\n  initializeWithValue = true\n} = {}) {\n  const getMatches = (query2) => {\n    if (IS_SERVER2) {\n      return defaultValue;\n    }\n    return window.matchMedia(query2).matches;\n  };\n  const [matches, setMatches] = useState(() => {\n    if (initializeWithValue) {\n      return getMatches(query);\n    }\n    return defaultValue;\n  });\n  function handleChange() {\n    setMatches(getMatches(query));\n  }\n  useIsomorphicLayoutEffect(() => {\n    const matchMedia = window.matchMedia(query);\n    handleChange();\n    if (matchMedia.addListener) {\n      matchMedia.addListener(handleChange);\n    } else {\n      matchMedia.addEventListener(\"change\", handleChange);\n    }\n    return () => {\n      if (matchMedia.removeListener) {\n        matchMedia.removeListener(handleChange);\n      } else {\n        matchMedia.removeEventListener(\"change\", handleChange);\n      }\n    };\n  }, [query]);\n  return matches;\n}\n\n// src/useDarkMode/useDarkMode.ts\nvar COLOR_SCHEME_QUERY = \"(prefers-color-scheme: dark)\";\nvar LOCAL_STORAGE_KEY = \"usehooks-ts-dark-mode\";\nfunction useDarkMode(options = {}) {\n  const {\n    defaultValue,\n    localStorageKey = LOCAL_STORAGE_KEY,\n    initializeWithValue = true\n  } = options;\n  const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY, {\n    initializeWithValue,\n    defaultValue\n  });\n  const [isDarkMode, setDarkMode] = useLocalStorage(\n    localStorageKey,\n    defaultValue ?? isDarkOS ?? false,\n    { initializeWithValue }\n  );\n  useIsomorphicLayoutEffect(() => {\n    if (isDarkOS !== isDarkMode) {\n      setDarkMode(isDarkOS);\n    }\n  }, [isDarkOS]);\n  return {\n    isDarkMode,\n    toggle: () => {\n      setDarkMode((prev) => !prev);\n    },\n    enable: () => {\n      setDarkMode(true);\n    },\n    disable: () => {\n      setDarkMode(false);\n    },\n    set: (value) => {\n      setDarkMode(value);\n    }\n  };\n}\nfunction useUnmount(func) {\n  const funcRef = useRef(func);\n  funcRef.current = func;\n  useEffect(\n    () => () => {\n      funcRef.current();\n    },\n    []\n  );\n}\n\n// src/useDebounceCallback/useDebounceCallback.ts\nfunction useDebounceCallback(func, delay = 500, options) {\n  const debouncedFunc = useRef();\n  useUnmount(() => {\n    if (debouncedFunc.current) {\n      debouncedFunc.current.cancel();\n    }\n  });\n  const debounced = useMemo(() => {\n    const debouncedFuncInstance = debounce(func, delay, options);\n    const wrappedFunc = (...args) => {\n      return debouncedFuncInstance(...args);\n    };\n    wrappedFunc.cancel = () => {\n      debouncedFuncInstance.cancel();\n    };\n    wrappedFunc.isPending = () => {\n      return !!debouncedFunc.current;\n    };\n    wrappedFunc.flush = () => {\n      return debouncedFuncInstance.flush();\n    };\n    return wrappedFunc;\n  }, [func, delay, options]);\n  useEffect(() => {\n    debouncedFunc.current = debounce(func, delay, options);\n  }, [func, delay, options]);\n  return debounced;\n}\nfunction useDebounceValue(initialValue, delay, options) {\n  const eq = (options == null ? void 0 : options.equalityFn) ?? ((left, right) => left === right);\n  const unwrappedInitialValue = initialValue instanceof Function ? initialValue() : initialValue;\n  const [debouncedValue, setDebouncedValue] = useState(unwrappedInitialValue);\n  const previousValueRef = useRef(unwrappedInitialValue);\n  const updateDebouncedValue = useDebounceCallback(\n    setDebouncedValue,\n    delay,\n    options\n  );\n  if (!eq(previousValueRef.current, unwrappedInitialValue)) {\n    updateDebouncedValue(unwrappedInitialValue);\n    previousValueRef.current = unwrappedInitialValue;\n  }\n  return [debouncedValue, updateDebouncedValue];\n}\nfunction useDocumentTitle(title, options = {}) {\n  const { preserveTitleOnUnmount = true } = options;\n  const defaultTitle = useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    defaultTitle.current = window.document.title;\n  }, []);\n  useIsomorphicLayoutEffect(() => {\n    window.document.title = title;\n  }, [title]);\n  useUnmount(() => {\n    if (!preserveTitleOnUnmount && defaultTitle.current) {\n      window.document.title = defaultTitle.current;\n    }\n  });\n}\nfunction useHover(elementRef) {\n  const [value, setValue] = useState(false);\n  const handleMouseEnter = () => {\n    setValue(true);\n  };\n  const handleMouseLeave = () => {\n    setValue(false);\n  };\n  useEventListener(\"mouseenter\", handleMouseEnter, elementRef);\n  useEventListener(\"mouseleave\", handleMouseLeave, elementRef);\n  return value;\n}\nfunction useIntersectionObserver({\n  threshold = 0,\n  root = null,\n  rootMargin = \"0%\",\n  freezeOnceVisible = false,\n  initialIsIntersecting = false,\n  onChange\n} = {}) {\n  var _a;\n  const [ref, setRef] = useState(null);\n  const [state, setState] = useState(() => ({\n    isIntersecting: initialIsIntersecting,\n    entry: void 0\n  }));\n  const callbackRef = useRef();\n  callbackRef.current = onChange;\n  const frozen = ((_a = state.entry) == null ? void 0 : _a.isIntersecting) && freezeOnceVisible;\n  useEffect(() => {\n    if (!ref)\n      return;\n    if (!(\"IntersectionObserver\" in window))\n      return;\n    if (frozen)\n      return;\n    let unobserve;\n    const observer = new IntersectionObserver(\n      (entries) => {\n        const thresholds = Array.isArray(observer.thresholds) ? observer.thresholds : [observer.thresholds];\n        entries.forEach((entry) => {\n          const isIntersecting = entry.isIntersecting && thresholds.some((threshold2) => entry.intersectionRatio >= threshold2);\n          setState({ isIntersecting, entry });\n          if (callbackRef.current) {\n            callbackRef.current(isIntersecting, entry);\n          }\n          if (isIntersecting && freezeOnceVisible && unobserve) {\n            unobserve();\n            unobserve = void 0;\n          }\n        });\n      },\n      { threshold, root, rootMargin }\n    );\n    observer.observe(ref);\n    return () => {\n      observer.disconnect();\n    };\n  }, [\n    ref,\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    JSON.stringify(threshold),\n    root,\n    rootMargin,\n    frozen,\n    freezeOnceVisible\n  ]);\n  const prevRef = useRef(null);\n  useEffect(() => {\n    var _a2;\n    if (!ref && ((_a2 = state.entry) == null ? void 0 : _a2.target) && !freezeOnceVisible && !frozen && prevRef.current !== state.entry.target) {\n      prevRef.current = state.entry.target;\n      setState({ isIntersecting: initialIsIntersecting, entry: void 0 });\n    }\n  }, [ref, state.entry, freezeOnceVisible, frozen, initialIsIntersecting]);\n  const result = [\n    setRef,\n    !!state.isIntersecting,\n    state.entry\n  ];\n  result.ref = result[0];\n  result.isIntersecting = result[1];\n  result.entry = result[2];\n  return result;\n}\nfunction useIsClient() {\n  const [isClient, setClient] = useState(false);\n  useEffect(() => {\n    setClient(true);\n  }, []);\n  return isClient;\n}\nfunction useIsMounted() {\n  const isMounted = useRef(false);\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  return useCallback(() => isMounted.current, []);\n}\nfunction useMap(initialState = /* @__PURE__ */ new Map()) {\n  const [map, setMap] = useState(new Map(initialState));\n  const actions = {\n    set: useCallback((key, value) => {\n      setMap((prev) => {\n        const copy = new Map(prev);\n        copy.set(key, value);\n        return copy;\n      });\n    }, []),\n    setAll: useCallback((entries) => {\n      setMap(() => new Map(entries));\n    }, []),\n    remove: useCallback((key) => {\n      setMap((prev) => {\n        const copy = new Map(prev);\n        copy.delete(key);\n        return copy;\n      });\n    }, []),\n    reset: useCallback(() => {\n      setMap(() => /* @__PURE__ */ new Map());\n    }, [])\n  };\n  return [map, actions];\n}\n\n// src/useOnClickOutside/useOnClickOutside.ts\nfunction useOnClickOutside(ref, handler, eventType = \"mousedown\", eventListenerOptions = {}) {\n  useEventListener(\n    eventType,\n    (event) => {\n      const target = event.target;\n      if (!target || !target.isConnected) {\n        return;\n      }\n      const isOutside = Array.isArray(ref) ? ref.filter((r) => Boolean(r.current)).every((r) => r.current && !r.current.contains(target)) : ref.current && !ref.current.contains(target);\n      if (isOutside) {\n        handler(event);\n      }\n    },\n    void 0,\n    eventListenerOptions\n  );\n}\nvar IS_SERVER3 = typeof window === \"undefined\";\nfunction useReadLocalStorage(key, options = {}) {\n  let { initializeWithValue = true } = options;\n  if (IS_SERVER3) {\n    initializeWithValue = false;\n  }\n  const deserializer = useCallback(\n    (value) => {\n      if (options.deserializer) {\n        return options.deserializer(value);\n      }\n      if (value === \"undefined\") {\n        return void 0;\n      }\n      let parsed;\n      try {\n        parsed = JSON.parse(value);\n      } catch (error) {\n        console.error(\"Error parsing JSON:\", error);\n        return null;\n      }\n      return parsed;\n    },\n    [options]\n  );\n  const readValue = useCallback(() => {\n    if (IS_SERVER3) {\n      return null;\n    }\n    try {\n      const raw = window.localStorage.getItem(key);\n      return raw ? deserializer(raw) : null;\n    } catch (error) {\n      console.warn(`Error reading localStorage key \\u201C${key}\\u201D:`, error);\n      return null;\n    }\n  }, [key, deserializer]);\n  const [storedValue, setStoredValue] = useState(() => {\n    if (initializeWithValue) {\n      return readValue();\n    }\n    return void 0;\n  });\n  useEffect(() => {\n    setStoredValue(readValue());\n  }, [key]);\n  const handleStorageChange = useCallback(\n    (event) => {\n      if (event.key && event.key !== key) {\n        return;\n      }\n      setStoredValue(readValue());\n    },\n    [key, readValue]\n  );\n  useEventListener(\"storage\", handleStorageChange);\n  useEventListener(\"local-storage\", handleStorageChange);\n  return storedValue;\n}\nvar initialSize = {\n  width: void 0,\n  height: void 0\n};\nfunction useResizeObserver(options) {\n  const { ref, box = \"content-box\" } = options;\n  const [{ width, height }, setSize] = useState(initialSize);\n  const isMounted = useIsMounted();\n  const previousSize = useRef({ ...initialSize });\n  const onResize = useRef(void 0);\n  onResize.current = options.onResize;\n  useEffect(() => {\n    if (!ref.current)\n      return;\n    if (typeof window === \"undefined\" || !(\"ResizeObserver\" in window))\n      return;\n    const observer = new ResizeObserver(([entry]) => {\n      const boxProp = box === \"border-box\" ? \"borderBoxSize\" : box === \"device-pixel-content-box\" ? \"devicePixelContentBoxSize\" : \"contentBoxSize\";\n      const newWidth = extractSize(entry, boxProp, \"inlineSize\");\n      const newHeight = extractSize(entry, boxProp, \"blockSize\");\n      const hasChanged = previousSize.current.width !== newWidth || previousSize.current.height !== newHeight;\n      if (hasChanged) {\n        const newSize = { width: newWidth, height: newHeight };\n        previousSize.current.width = newWidth;\n        previousSize.current.height = newHeight;\n        if (onResize.current) {\n          onResize.current(newSize);\n        } else {\n          if (isMounted()) {\n            setSize(newSize);\n          }\n        }\n      }\n    });\n    observer.observe(ref.current, { box });\n    return () => {\n      observer.disconnect();\n    };\n  }, [box, ref, isMounted]);\n  return { width, height };\n}\nfunction extractSize(entry, box, sizeType) {\n  if (!entry[box]) {\n    if (box === \"contentBoxSize\") {\n      return entry.contentRect[sizeType === \"inlineSize\" ? \"width\" : \"height\"];\n    }\n    return void 0;\n  }\n  return Array.isArray(entry[box]) ? entry[box][0][sizeType] : (\n    // @ts-ignore Support Firefox's non-standard behavior\n    entry[box][sizeType]\n  );\n}\nvar IS_SERVER4 = typeof window === \"undefined\";\nfunction useScreen(options = {}) {\n  let { initializeWithValue = true } = options;\n  if (IS_SERVER4) {\n    initializeWithValue = false;\n  }\n  const readScreen = () => {\n    if (IS_SERVER4) {\n      return void 0;\n    }\n    return window.screen;\n  };\n  const [screen, setScreen] = useState(() => {\n    if (initializeWithValue) {\n      return readScreen();\n    }\n    return void 0;\n  });\n  const debouncedSetScreen = useDebounceCallback(\n    setScreen,\n    options.debounceDelay\n  );\n  function handleSize() {\n    const newScreen = readScreen();\n    const setSize = options.debounceDelay ? debouncedSetScreen : setScreen;\n    if (newScreen) {\n      const {\n        width,\n        height,\n        availHeight,\n        availWidth,\n        colorDepth,\n        orientation,\n        pixelDepth\n      } = newScreen;\n      setSize({\n        width,\n        height,\n        availHeight,\n        availWidth,\n        colorDepth,\n        orientation,\n        pixelDepth\n      });\n    }\n  }\n  useEventListener(\"resize\", handleSize);\n  useIsomorphicLayoutEffect(() => {\n    handleSize();\n  }, []);\n  return screen;\n}\nvar cachedScriptStatuses = /* @__PURE__ */ new Map();\nfunction getScriptNode(src) {\n  const node = document.querySelector(\n    `script[src=\"${src}\"]`\n  );\n  const status = node == null ? void 0 : node.getAttribute(\"data-status\");\n  return {\n    node,\n    status\n  };\n}\nfunction useScript(src, options) {\n  const [status, setStatus] = useState(() => {\n    if (!src || (options == null ? void 0 : options.shouldPreventLoad)) {\n      return \"idle\";\n    }\n    if (typeof window === \"undefined\") {\n      return \"loading\";\n    }\n    return cachedScriptStatuses.get(src) ?? \"loading\";\n  });\n  useEffect(() => {\n    if (!src || (options == null ? void 0 : options.shouldPreventLoad)) {\n      return;\n    }\n    const cachedScriptStatus = cachedScriptStatuses.get(src);\n    if (cachedScriptStatus === \"ready\" || cachedScriptStatus === \"error\") {\n      setStatus(cachedScriptStatus);\n      return;\n    }\n    const script = getScriptNode(src);\n    let scriptNode = script.node;\n    if (!scriptNode) {\n      scriptNode = document.createElement(\"script\");\n      scriptNode.src = src;\n      scriptNode.async = true;\n      if (options == null ? void 0 : options.id) {\n        scriptNode.id = options.id;\n      }\n      scriptNode.setAttribute(\"data-status\", \"loading\");\n      document.body.appendChild(scriptNode);\n      const setAttributeFromEvent = (event) => {\n        const scriptStatus = event.type === \"load\" ? \"ready\" : \"error\";\n        scriptNode == null ? void 0 : scriptNode.setAttribute(\"data-status\", scriptStatus);\n      };\n      scriptNode.addEventListener(\"load\", setAttributeFromEvent);\n      scriptNode.addEventListener(\"error\", setAttributeFromEvent);\n    } else {\n      setStatus(script.status ?? cachedScriptStatus ?? \"loading\");\n    }\n    const setStateFromEvent = (event) => {\n      const newStatus = event.type === \"load\" ? \"ready\" : \"error\";\n      setStatus(newStatus);\n      cachedScriptStatuses.set(src, newStatus);\n    };\n    scriptNode.addEventListener(\"load\", setStateFromEvent);\n    scriptNode.addEventListener(\"error\", setStateFromEvent);\n    return () => {\n      if (scriptNode) {\n        scriptNode.removeEventListener(\"load\", setStateFromEvent);\n        scriptNode.removeEventListener(\"error\", setStateFromEvent);\n      }\n      if (scriptNode && (options == null ? void 0 : options.removeOnUnmount)) {\n        scriptNode.remove();\n        cachedScriptStatuses.delete(src);\n      }\n    };\n  }, [src, options == null ? void 0 : options.shouldPreventLoad, options == null ? void 0 : options.removeOnUnmount, options == null ? void 0 : options.id]);\n  return status;\n}\nvar IS_SERVER5 = typeof window === \"undefined\";\nfunction useScrollLock(options = {}) {\n  const { autoLock = true, lockTarget, widthReflow = true } = options;\n  const [isLocked, setIsLocked] = useState(false);\n  const target = useRef(null);\n  const originalStyle = useRef(null);\n  const lock = () => {\n    if (target.current) {\n      const { overflow, paddingRight } = target.current.style;\n      originalStyle.current = { overflow, paddingRight };\n      if (widthReflow) {\n        const offsetWidth = target.current === document.body ? window.innerWidth : target.current.offsetWidth;\n        const currentPaddingRight = parseInt(window.getComputedStyle(target.current).paddingRight, 10) || 0;\n        const scrollbarWidth = offsetWidth - target.current.scrollWidth;\n        target.current.style.paddingRight = `${scrollbarWidth + currentPaddingRight}px`;\n      }\n      target.current.style.overflow = \"hidden\";\n      setIsLocked(true);\n    }\n  };\n  const unlock = () => {\n    if (target.current && originalStyle.current) {\n      target.current.style.overflow = originalStyle.current.overflow;\n      if (widthReflow) {\n        target.current.style.paddingRight = originalStyle.current.paddingRight;\n      }\n    }\n    setIsLocked(false);\n  };\n  useIsomorphicLayoutEffect(() => {\n    if (IS_SERVER5)\n      return;\n    if (lockTarget) {\n      target.current = typeof lockTarget === \"string\" ? document.querySelector(lockTarget) : lockTarget;\n    }\n    if (!target.current) {\n      target.current = document.body;\n    }\n    if (autoLock) {\n      lock();\n    }\n    return () => {\n      unlock();\n    };\n  }, [autoLock, lockTarget, widthReflow]);\n  return { isLocked, lock, unlock };\n}\nvar IS_SERVER6 = typeof window === \"undefined\";\nfunction useSessionStorage(key, initialValue, options = {}) {\n  const { initializeWithValue = true } = options;\n  const serializer = useCallback(\n    (value) => {\n      if (options.serializer) {\n        return options.serializer(value);\n      }\n      return JSON.stringify(value);\n    },\n    [options]\n  );\n  const deserializer = useCallback(\n    (value) => {\n      if (options.deserializer) {\n        return options.deserializer(value);\n      }\n      if (value === \"undefined\") {\n        return void 0;\n      }\n      const defaultValue = initialValue instanceof Function ? initialValue() : initialValue;\n      let parsed;\n      try {\n        parsed = JSON.parse(value);\n      } catch (error) {\n        console.error(\"Error parsing JSON:\", error);\n        return defaultValue;\n      }\n      return parsed;\n    },\n    [options, initialValue]\n  );\n  const readValue = useCallback(() => {\n    const initialValueToUse = initialValue instanceof Function ? initialValue() : initialValue;\n    if (IS_SERVER6) {\n      return initialValueToUse;\n    }\n    try {\n      const raw = window.sessionStorage.getItem(key);\n      return raw ? deserializer(raw) : initialValueToUse;\n    } catch (error) {\n      console.warn(`Error reading sessionStorage key \\u201C${key}\\u201D:`, error);\n      return initialValueToUse;\n    }\n  }, [initialValue, key, deserializer]);\n  const [storedValue, setStoredValue] = useState(() => {\n    if (initializeWithValue) {\n      return readValue();\n    }\n    return initialValue instanceof Function ? initialValue() : initialValue;\n  });\n  const setValue = useEventCallback((value) => {\n    if (IS_SERVER6) {\n      console.warn(\n        `Tried setting sessionStorage key \\u201C${key}\\u201D even though environment is not a client`\n      );\n    }\n    try {\n      const newValue = value instanceof Function ? value(readValue()) : value;\n      window.sessionStorage.setItem(key, serializer(newValue));\n      setStoredValue(newValue);\n      window.dispatchEvent(new StorageEvent(\"session-storage\", { key }));\n    } catch (error) {\n      console.warn(`Error setting sessionStorage key \\u201C${key}\\u201D:`, error);\n    }\n  });\n  const removeValue = useEventCallback(() => {\n    if (IS_SERVER6) {\n      console.warn(\n        `Tried removing sessionStorage key \\u201C${key}\\u201D even though environment is not a client`\n      );\n    }\n    const defaultValue = initialValue instanceof Function ? initialValue() : initialValue;\n    window.sessionStorage.removeItem(key);\n    setStoredValue(defaultValue);\n    window.dispatchEvent(new StorageEvent(\"session-storage\", { key }));\n  });\n  useEffect(() => {\n    setStoredValue(readValue());\n  }, [key]);\n  const handleStorageChange = useCallback(\n    (event) => {\n      if (event.key && event.key !== key) {\n        return;\n      }\n      setStoredValue(readValue());\n    },\n    [key, readValue]\n  );\n  useEventListener(\"storage\", handleStorageChange);\n  useEventListener(\"session-storage\", handleStorageChange);\n  return [storedValue, setValue, removeValue];\n}\nfunction useStep(maxStep) {\n  const [currentStep, setCurrentStep] = useState(1);\n  const canGoToNextStep = currentStep + 1 <= maxStep;\n  const canGoToPrevStep = currentStep - 1 > 0;\n  const setStep = useCallback(\n    (step) => {\n      const newStep = step instanceof Function ? step(currentStep) : step;\n      if (newStep >= 1 && newStep <= maxStep) {\n        setCurrentStep(newStep);\n        return;\n      }\n      throw new Error(\"Step not valid\");\n    },\n    [maxStep, currentStep]\n  );\n  const goToNextStep = useCallback(() => {\n    if (canGoToNextStep) {\n      setCurrentStep((step) => step + 1);\n    }\n  }, [canGoToNextStep]);\n  const goToPrevStep = useCallback(() => {\n    if (canGoToPrevStep) {\n      setCurrentStep((step) => step - 1);\n    }\n  }, [canGoToPrevStep]);\n  const reset = useCallback(() => {\n    setCurrentStep(1);\n  }, []);\n  return [\n    currentStep,\n    {\n      goToNextStep,\n      goToPrevStep,\n      canGoToNextStep,\n      canGoToPrevStep,\n      setStep,\n      reset\n    }\n  ];\n}\n\n// src/useTernaryDarkMode/useTernaryDarkMode.ts\nvar COLOR_SCHEME_QUERY2 = \"(prefers-color-scheme: dark)\";\nvar LOCAL_STORAGE_KEY2 = \"usehooks-ts-ternary-dark-mode\";\nfunction useTernaryDarkMode({\n  defaultValue = \"system\",\n  localStorageKey = LOCAL_STORAGE_KEY2,\n  initializeWithValue = true\n} = {}) {\n  const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY2, { initializeWithValue });\n  const [mode, setMode] = useLocalStorage(localStorageKey, defaultValue, {\n    initializeWithValue\n  });\n  const isDarkMode = mode === \"dark\" || mode === \"system\" && isDarkOS;\n  const toggleTernaryDarkMode = () => {\n    const modes = [\"light\", \"system\", \"dark\"];\n    setMode((prevMode) => {\n      const nextIndex = (modes.indexOf(prevMode) + 1) % modes.length;\n      return modes[nextIndex];\n    });\n  };\n  return {\n    isDarkMode,\n    ternaryDarkMode: mode,\n    setTernaryDarkMode: setMode,\n    toggleTernaryDarkMode\n  };\n}\nfunction useTimeout(callback, delay) {\n  const savedCallback = useRef(callback);\n  useIsomorphicLayoutEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n  useEffect(() => {\n    if (!delay && delay !== 0) {\n      return;\n    }\n    const id = setTimeout(() => {\n      savedCallback.current();\n    }, delay);\n    return () => {\n      clearTimeout(id);\n    };\n  }, [delay]);\n}\nfunction useToggle(defaultValue) {\n  const [value, setValue] = useState(!!defaultValue);\n  const toggle = useCallback(() => {\n    setValue((x) => !x);\n  }, []);\n  return [value, toggle, setValue];\n}\nvar IS_SERVER7 = typeof window === \"undefined\";\nfunction useWindowSize(options = {}) {\n  let { initializeWithValue = true } = options;\n  if (IS_SERVER7) {\n    initializeWithValue = false;\n  }\n  const [windowSize, setWindowSize] = useState(() => {\n    if (initializeWithValue) {\n      return {\n        width: window.innerWidth,\n        height: window.innerHeight\n      };\n    }\n    return {\n      width: void 0,\n      height: void 0\n    };\n  });\n  const debouncedSetWindowSize = useDebounceCallback(\n    setWindowSize,\n    options.debounceDelay\n  );\n  function handleSize() {\n    const setSize = options.debounceDelay ? debouncedSetWindowSize : setWindowSize;\n    setSize({\n      width: window.innerWidth,\n      height: window.innerHeight\n    });\n  }\n  useEventListener(\"resize\", handleSize);\n  useIsomorphicLayoutEffect(() => {\n    handleSize();\n  }, []);\n  return windowSize;\n}\n\nexport { useBoolean, useClickAnyWhere, useCopyToClipboard, useCountdown, useCounter, useDarkMode, useDebounceCallback, useDebounceValue, useDocumentTitle, useEventCallback, useEventListener, useHover, useIntersectionObserver, useInterval, useIsClient, useIsMounted, useIsomorphicLayoutEffect, useLocalStorage, useMap, useMediaQuery, useOnClickOutside, useReadLocalStorage, useResizeObserver, useScreen, useScript, useScrollLock, useSessionStorage, useStep, useTernaryDarkMode, useTimeout, useToggle, useUnmount, useWindowSize };\n","import { RemoteTrackPublication } from 'livekit-client';\nimport * as React from 'react';\nimport { useMediaTrackBySourceOrName } from '../../hooks/useMediaTrackBySourceOrName';\nimport type { ParticipantClickEvent, TrackReference } from '@livekit/components-core';\nimport { useEnsureTrackRef } from '../../context';\nimport * as useHooks from 'usehooks-ts';\n\n/** @public */\nexport interface VideoTrackProps extends React.VideoHTMLAttributes<HTMLVideoElement> {\n  /** The track reference of the track to render. */\n  trackRef?: TrackReference;\n  onTrackClick?: (evt: ParticipantClickEvent) => void;\n  onSubscriptionStatusChanged?: (subscribed: boolean) => void;\n  manageSubscription?: boolean;\n}\n\n/**\n * The `VideoTrack` component is responsible for rendering participant video tracks like `camera` and `screen_share`.\n * This component must have access to the participant's context, or alternatively pass it a `Participant` as a property.\n *\n * @example\n * ```tsx\n * <VideoTrack trackRef={trackRef} />\n * ```\n * @see {@link @livekit/components-react#ParticipantTile |ParticipantTile}\n * @public\n */\nexport const VideoTrack: (\n  props: VideoTrackProps & React.RefAttributes<HTMLVideoElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLVideoElement, VideoTrackProps>(\n  function VideoTrack(\n    {\n      onTrackClick,\n      onClick,\n      onSubscriptionStatusChanged,\n      trackRef,\n      manageSubscription,\n      ...props\n    }: VideoTrackProps,\n    ref,\n  ) {\n    const trackReference = useEnsureTrackRef(trackRef);\n\n    const mediaEl = React.useRef<HTMLVideoElement>(null);\n    React.useImperativeHandle(ref, () => mediaEl.current as HTMLVideoElement);\n\n    const intersectionEntry = useHooks.useIntersectionObserver({ root: mediaEl.current });\n\n    const [debouncedIntersectionEntry] = useHooks.useDebounceValue(intersectionEntry, 3000);\n\n    React.useEffect(() => {\n      if (\n        manageSubscription &&\n        trackReference.publication instanceof RemoteTrackPublication &&\n        debouncedIntersectionEntry?.isIntersecting === false &&\n        intersectionEntry?.isIntersecting === false\n      ) {\n        trackReference.publication.setSubscribed(false);\n      }\n    }, [debouncedIntersectionEntry, trackReference, manageSubscription]);\n\n    React.useEffect(() => {\n      if (\n        manageSubscription &&\n        trackReference.publication instanceof RemoteTrackPublication &&\n        intersectionEntry?.isIntersecting === true\n      ) {\n        trackReference.publication.setSubscribed(true);\n      }\n    }, [intersectionEntry, trackReference, manageSubscription]);\n\n    const {\n      elementProps,\n      publication: pub,\n      isSubscribed,\n    } = useMediaTrackBySourceOrName(trackReference, {\n      element: mediaEl,\n      props,\n    });\n\n    React.useEffect(() => {\n      onSubscriptionStatusChanged?.(!!isSubscribed);\n    }, [isSubscribed, onSubscriptionStatusChanged]);\n\n    const clickHandler = (evt: React.MouseEvent<HTMLVideoElement, MouseEvent>) => {\n      onClick?.(evt);\n      onTrackClick?.({ participant: trackReference?.participant, track: pub });\n    };\n\n    return <video ref={mediaEl} {...elementProps} muted={true} onClick={clickHandler}></video>;\n  },\n);\n","import * as React from 'react';\nimport { useMediaTrackBySourceOrName } from '../../hooks/useMediaTrackBySourceOrName';\nimport type { TrackReference } from '@livekit/components-core';\nimport { log } from '@livekit/components-core';\nimport { RemoteAudioTrack, RemoteTrackPublication } from 'livekit-client';\nimport { useEnsureTrackRef } from '../../context';\n\n/** @public */\nexport interface AudioTrackProps extends React.AudioHTMLAttributes<HTMLAudioElement> {\n  /** The track reference of the track from which the audio is to be rendered. */\n  trackRef?: TrackReference;\n\n  onSubscriptionStatusChanged?: (subscribed: boolean) => void;\n  /** Sets the volume of the audio track. By default, the range is between `0.0` and `1.0`. */\n  volume?: number;\n  /**\n   * Mutes the audio track if set to `true`.\n   * @remarks\n   * If set to `true`, the server will stop sending audio track data to the client.\n   * @alpha\n   */\n  muted?: boolean;\n}\n\n/**\n * The AudioTrack component is responsible for rendering participant audio tracks.\n * This component must have access to the participant's context, or alternatively pass it a `Participant` as a property.\n *\n * @example\n * ```tsx\n *   <ParticipantTile>\n *     <AudioTrack trackRef={trackRef} />\n *   </ParticipantTile>\n * ```\n *\n * @see `ParticipantTile` component\n * @public\n */\nexport const AudioTrack: (\n  props: AudioTrackProps & React.RefAttributes<HTMLAudioElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLAudioElement, AudioTrackProps>(\n  function AudioTrack(\n    { trackRef, onSubscriptionStatusChanged, volume, muted, ...props }: AudioTrackProps,\n    ref,\n  ) {\n    const trackReference = useEnsureTrackRef(trackRef);\n\n    const mediaEl = React.useRef<HTMLAudioElement>(null);\n    React.useImperativeHandle(ref, () => mediaEl.current as HTMLAudioElement);\n\n    const {\n      elementProps,\n      isSubscribed,\n      track,\n      publication: pub,\n    } = useMediaTrackBySourceOrName(trackReference, {\n      element: mediaEl,\n      props,\n    });\n\n    React.useEffect(() => {\n      onSubscriptionStatusChanged?.(!!isSubscribed);\n    }, [isSubscribed, onSubscriptionStatusChanged]);\n\n    React.useEffect(() => {\n      if (track === undefined || volume === undefined) {\n        return;\n      }\n      if (track instanceof RemoteAudioTrack) {\n        track.setVolume(volume);\n      } else {\n        log.warn('Volume can only be set on remote audio tracks.');\n      }\n    }, [volume, track]);\n\n    React.useEffect(() => {\n      if (pub === undefined || muted === undefined) {\n        return;\n      }\n      if (pub instanceof RemoteTrackPublication) {\n        pub.setEnabled(!muted);\n      } else {\n        log.warn('Can only call setEnabled on remote track publications.');\n      }\n    }, [muted, pub, track]);\n\n    return <audio ref={mediaEl} {...elementProps} />;\n  },\n);\n","import * as React from 'react';\nimport type { Participant } from 'livekit-client';\nimport { Track } from 'livekit-client';\nimport type { ParticipantClickEvent, TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { isTrackReference, isTrackReferencePinned } from '@livekit/components-core';\nimport { ConnectionQualityIndicator } from './ConnectionQualityIndicator';\nimport { ParticipantName } from './ParticipantName';\nimport { TrackMutedIndicator } from './TrackMutedIndicator';\nimport {\n  ParticipantContext,\n  TrackRefContext,\n  useEnsureTrackRef,\n  useFeatureContext,\n  useMaybeLayoutContext,\n  useMaybeParticipantContext,\n  useMaybeTrackRefContext,\n} from '../../context';\nimport { FocusToggle } from '../controls/FocusToggle';\nimport { ParticipantPlaceholder } from '../../assets/images';\nimport { LockLockedIcon, ScreenShareIcon } from '../../assets/icons';\nimport { VideoTrack } from './VideoTrack';\nimport { AudioTrack } from './AudioTrack';\nimport { useParticipantTile } from '../../hooks';\nimport { useIsEncrypted } from '../../hooks/useIsEncrypted';\n\n/**\n * The `ParticipantContextIfNeeded` component only creates a `ParticipantContext`\n * if there is no `ParticipantContext` already.\n * @example\n * ```tsx\n * <ParticipantContextIfNeeded participant={trackReference.participant}>\n *  ...\n * </ParticipantContextIfNeeded>\n * ```\n * @public\n */\nexport function ParticipantContextIfNeeded(\n  props: React.PropsWithChildren<{\n    participant?: Participant;\n  }>,\n) {\n  const hasContext = !!useMaybeParticipantContext();\n  return props.participant && !hasContext ? (\n    <ParticipantContext.Provider value={props.participant}>\n      {props.children}\n    </ParticipantContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\n/**\n * Only create a `TrackRefContext` if there is no `TrackRefContext` already.\n * @internal\n */\nexport function TrackRefContextIfNeeded(\n  props: React.PropsWithChildren<{\n    trackRef?: TrackReferenceOrPlaceholder;\n  }>,\n) {\n  const hasContext = !!useMaybeTrackRefContext();\n  return props.trackRef && !hasContext ? (\n    <TrackRefContext.Provider value={props.trackRef}>{props.children}</TrackRefContext.Provider>\n  ) : (\n    <>{props.children}</>\n  );\n}\n\n/** @public */\nexport interface ParticipantTileProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** The track reference to display. */\n  trackRef?: TrackReferenceOrPlaceholder;\n  disableSpeakingIndicator?: boolean;\n\n  onParticipantClick?: (event: ParticipantClickEvent) => void;\n}\n\n/**\n * The `ParticipantTile` component is the base utility wrapper for displaying a visual representation of a participant.\n * This component can be used as a child of the `TrackLoop` component or by passing a track reference as property.\n *\n * @example Using the `ParticipantTile` component with a track reference:\n * ```tsx\n * <ParticipantTile trackRef={trackRef} />\n * ```\n * @example Using the `ParticipantTile` component as a child of the `TrackLoop` component:\n * ```tsx\n * <TrackLoop>\n *  <ParticipantTile />\n * </TrackLoop>\n * ```\n * @public\n */\nexport const ParticipantTile: (\n  props: ParticipantTileProps & React.RefAttributes<HTMLDivElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLDivElement, ParticipantTileProps>(\n  function ParticipantTile(\n    {\n      trackRef,\n      children,\n      onParticipantClick,\n      disableSpeakingIndicator,\n      ...htmlProps\n    }: ParticipantTileProps,\n    ref,\n  ) {\n    const trackReference = useEnsureTrackRef(trackRef);\n\n    const { elementProps } = useParticipantTile<HTMLDivElement>({\n      htmlProps,\n      disableSpeakingIndicator,\n      onParticipantClick,\n      trackRef: trackReference,\n    });\n    const isEncrypted = useIsEncrypted(trackReference.participant);\n    const layoutContext = useMaybeLayoutContext();\n\n    const autoManageSubscription = useFeatureContext()?.autoSubscription;\n\n    const handleSubscribe = React.useCallback(\n      (subscribed: boolean) => {\n        if (\n          trackReference.source &&\n          !subscribed &&\n          layoutContext &&\n          layoutContext.pin.dispatch &&\n          isTrackReferencePinned(trackReference, layoutContext.pin.state)\n        ) {\n          layoutContext.pin.dispatch({ msg: 'clear_pin' });\n        }\n      },\n      [trackReference, layoutContext],\n    );\n\n    return (\n      <div ref={ref} style={{ position: 'relative' }} {...elementProps}>\n        <TrackRefContextIfNeeded trackRef={trackReference}>\n          <ParticipantContextIfNeeded participant={trackReference.participant}>\n            {children ?? (\n              <>\n                {isTrackReference(trackReference) &&\n                (trackReference.publication?.kind === 'video' ||\n                  trackReference.source === Track.Source.Camera ||\n                  trackReference.source === Track.Source.ScreenShare) ? (\n                  <VideoTrack\n                    trackRef={trackReference}\n                    onSubscriptionStatusChanged={handleSubscribe}\n                    manageSubscription={autoManageSubscription}\n                  />\n                ) : (\n                  isTrackReference(trackReference) && (\n                    <AudioTrack\n                      trackRef={trackReference}\n                      onSubscriptionStatusChanged={handleSubscribe}\n                    />\n                  )\n                )}\n                <div className=\"lk-participant-placeholder\">\n                  <ParticipantPlaceholder />\n                </div>\n                <div className=\"lk-participant-metadata\">\n                  <div className=\"lk-participant-metadata-item\">\n                    {trackReference.source === Track.Source.Camera ? (\n                      <>\n                        {isEncrypted && <LockLockedIcon style={{ marginRight: '0.25rem' }} />}\n                        <TrackMutedIndicator\n                          trackRef={{\n                            participant: trackReference.participant,\n                            source: Track.Source.Microphone,\n                          }}\n                          show={'muted'}\n                        ></TrackMutedIndicator>\n                        <ParticipantName />\n                      </>\n                    ) : (\n                      <>\n                        <ScreenShareIcon style={{ marginRight: '0.25rem' }} />\n                        <ParticipantName>&apos;s screen</ParticipantName>\n                      </>\n                    )}\n                  </div>\n                  <ConnectionQualityIndicator className=\"lk-participant-metadata-item\" />\n                </div>\n              </>\n            )}\n            <FocusToggle trackRef={trackReference} />\n          </ParticipantContextIfNeeded>\n        </TrackRefContextIfNeeded>\n      </div>\n    );\n  },\n);\n","import * as React from 'react';\nimport { mergeProps } from '../../utils';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { ParticipantTile } from '../participant/ParticipantTile';\nimport type { ParticipantClickEvent } from '@livekit/components-core';\n\n/** @public */\nexport interface FocusLayoutContainerProps extends React.HTMLAttributes<HTMLDivElement> {}\n\n/**\n * The `FocusLayoutContainer` is a layout component that expects two children:\n * A small side component: In a video conference, this is usually a carousel of participants\n * who are not in focus. And a larger main component to display the focused participant.\n * For example, with the `FocusLayout` component.\n *  @public\n */\nexport function FocusLayoutContainer(props: FocusLayoutContainerProps) {\n  const elementProps = mergeProps(props, { className: 'lk-focus-layout' });\n\n  return <div {...elementProps}>{props.children}</div>;\n}\n\n/** @public */\nexport interface FocusLayoutProps extends React.HTMLAttributes<HTMLElement> {\n  /** The track to display in the focus layout. */\n  trackRef?: TrackReferenceOrPlaceholder;\n\n  onParticipantClick?: (evt: ParticipantClickEvent) => void;\n}\n\n/**\n * The `FocusLayout` component is just a light wrapper around the `ParticipantTile` to display a single participant.\n * @public\n */\nexport function FocusLayout({ trackRef, ...htmlProps }: FocusLayoutProps) {\n  return <ParticipantTile trackRef={trackRef} {...htmlProps} />;\n}\n","import type { TrackReference, TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport * as React from 'react';\nimport { TrackRefContext } from '../context/track-reference-context';\nimport { cloneSingleChild } from '../utils';\nimport { getTrackReferenceId } from '@livekit/components-core';\n\n/** @public */\nexport interface TrackLoopProps {\n  /** Track references to loop over. You can the use `useTracks()` hook to get TrackReferences. */\n  tracks: TrackReference[] | TrackReferenceOrPlaceholder[];\n  /** The template component to be used in the loop. */\n  children: React.ReactNode;\n}\n\n/**\n * The `TrackLoop` component loops over tracks. It is for example a easy way to loop over all participant camera and screen share tracks.\n * `TrackLoop` creates a `TrackRefContext` for each track that you can use to e.g. render the track.\n *\n * @example\n * ```tsx\n * const trackRefs = useTracks([Track.Source.Camera]);\n * <TrackLoop tracks={trackRefs} >\n *  <TrackRefContext.Consumer>\n *    {(trackRef) => trackRef && <VideoTrack trackRef={trackRef}/>}\n *  </TrackRefContext.Consumer>\n * </TrackLoop>\n * ```\n * @public\n */\nexport function TrackLoop({ tracks, ...props }: TrackLoopProps) {\n  return (\n    <>\n      {tracks.map((trackReference) => {\n        return (\n          <TrackRefContext.Provider\n            value={trackReference}\n            key={getTrackReferenceId(trackReference)}\n          >\n            {cloneSingleChild(props.children)}\n          </TrackRefContext.Provider>\n        );\n      })}\n    </>\n  );\n}\n","import * as React from 'react';\nimport SvgChevron from '../../assets/icons/Chevron';\nimport type { usePagination } from '../../hooks';\nimport { createInteractingObservable } from '@livekit/components-core';\n\nexport interface PaginationControlProps\n  extends Pick<\n    ReturnType<typeof usePagination>,\n    'totalPageCount' | 'nextPage' | 'prevPage' | 'currentPage'\n  > {\n  /** Reference to an HTML element that holds the pages, while interacting (`mouseover`)\n   *  with it, the pagination controls will appear for a while. */\n  pagesContainer?: React.RefObject<HTMLElement>;\n}\n\nexport function PaginationControl({\n  totalPageCount,\n  nextPage,\n  prevPage,\n  currentPage,\n  pagesContainer: connectedElement,\n}: PaginationControlProps) {\n  const [interactive, setInteractive] = React.useState(false);\n  React.useEffect(() => {\n    let subscription:\n      | ReturnType<ReturnType<typeof createInteractingObservable>['subscribe']>\n      | undefined;\n    if (connectedElement) {\n      subscription = createInteractingObservable(connectedElement.current, 2000).subscribe(\n        setInteractive,\n      );\n    }\n    return () => {\n      if (subscription) {\n        subscription.unsubscribe();\n      }\n    };\n  }, [connectedElement]);\n\n  return (\n    <div className=\"lk-pagination-control\" data-lk-user-interaction={interactive}>\n      <button className=\"lk-button\" onClick={prevPage}>\n        <SvgChevron />\n      </button>\n      <span className=\"lk-pagination-count\">{`${currentPage} of ${totalPageCount}`}</span>\n      <button className=\"lk-button\" onClick={nextPage}>\n        <SvgChevron />\n      </button>\n    </div>\n  );\n}\n","import * as React from 'react';\n\nexport interface PaginationIndicatorProps {\n  totalPageCount: number;\n  currentPage: number;\n}\n\nexport const PaginationIndicator: (\n  props: PaginationIndicatorProps & React.RefAttributes<HTMLDivElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLDivElement, PaginationIndicatorProps>(\n  function PaginationIndicator({ totalPageCount, currentPage }: PaginationIndicatorProps, ref) {\n    const bubbles = new Array(totalPageCount).fill('').map((_, index) => {\n      if (index + 1 === currentPage) {\n        return <span data-lk-active key={index} />;\n      } else {\n        return <span key={index} />;\n      }\n    });\n\n    return (\n      <div ref={ref} className=\"lk-pagination-indicator\">\n        {bubbles}\n      </div>\n    );\n  },\n);\n","import * as React from 'react';\nimport type { UseParticipantsOptions } from '../../hooks';\nimport { useGridLayout, usePagination, useSwipe } from '../../hooks';\nimport { mergeProps } from '../../utils';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { TrackLoop } from '../TrackLoop';\nimport { PaginationControl } from '../controls/PaginationControl';\nimport { PaginationIndicator } from '../controls/PaginationIndicator';\n\n/** @public */\nexport interface GridLayoutProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    Pick<UseParticipantsOptions, 'updateOnlyOn'> {\n  children: React.ReactNode;\n  tracks: TrackReferenceOrPlaceholder[];\n}\n\n/**\n * The `GridLayout` component displays the nested participants in a grid where every participants has the same size.\n * It also supports pagination if there are more participants than the grid can display.\n * @remarks\n * To ensure visual stability when tiles are reordered due to track updates,\n * the component uses the `useVisualStableUpdate` hook.\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <GridLayout tracks={tracks}>\n *     <ParticipantTile />\n *   </GridLayout>\n * <LiveKitRoom>\n * ```\n * @public\n */\nexport function GridLayout({ tracks, ...props }: GridLayoutProps) {\n  const gridEl = React.createRef<HTMLDivElement>();\n\n  const elementProps = React.useMemo(\n    () => mergeProps(props, { className: 'lk-grid-layout' }),\n    [props],\n  );\n  const { layout } = useGridLayout(gridEl, tracks.length);\n  const pagination = usePagination(layout.maxTiles, tracks);\n\n  useSwipe(gridEl, {\n    onLeftSwipe: pagination.nextPage,\n    onRightSwipe: pagination.prevPage,\n  });\n\n  return (\n    <div ref={gridEl} data-lk-pagination={pagination.totalPageCount > 1} {...elementProps}>\n      <TrackLoop tracks={pagination.tracks}>{props.children}</TrackLoop>\n      {tracks.length > layout.maxTiles && (\n        <>\n          <PaginationIndicator\n            totalPageCount={pagination.totalPageCount}\n            currentPage={pagination.currentPage}\n          />\n          <PaginationControl pagesContainer={gridEl} {...pagination} />\n        </>\n      )}\n    </div>\n  );\n}\n","import type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { getScrollBarWidth } from '@livekit/components-core';\nimport * as React from 'react';\nimport { useSize } from '../../hooks/internal';\nimport { useVisualStableUpdate } from '../../hooks';\nimport { TrackLoop } from '../TrackLoop';\n\nconst MIN_HEIGHT = 130;\nconst MIN_WIDTH = 140;\nconst MIN_VISIBLE_TILES = 1;\nconst ASPECT_RATIO = 16 / 10;\nconst ASPECT_RATIO_INVERT = (1 - ASPECT_RATIO) * -1;\n\n/** @public */\nexport interface CarouselLayoutProps extends React.HTMLAttributes<HTMLMediaElement> {\n  tracks: TrackReferenceOrPlaceholder[];\n  children: React.ReactNode;\n  /** Place the tiles vertically or horizontally next to each other.\n   * If undefined orientation is guessed by the dimensions of the container. */\n  orientation?: 'vertical' | 'horizontal';\n}\n\n/**\n * The `CarouselLayout` component displays a list of tracks in a scroll container.\n * It will display as many tiles as possible and overflow the rest.\n * @remarks\n * To ensure visual stability when tiles are reordered due to track updates,\n * the component uses the `useVisualStableUpdate` hook.\n * @example\n * ```tsx\n * const tracks = useTracks([Track.Source.Camera]);\n * <CarouselLayout tracks={tracks}>\n *   <ParticipantTile />\n * </CarouselLayout>\n * ```\n * @public\n */\nexport function CarouselLayout({ tracks, orientation, ...props }: CarouselLayoutProps) {\n  const asideEl = React.useRef<HTMLDivElement>(null);\n  const [prevTiles, setPrevTiles] = React.useState(0);\n  const { width, height } = useSize(asideEl);\n  const carouselOrientation = orientation\n    ? orientation\n    : height >= width\n      ? 'vertical'\n      : 'horizontal';\n\n  const tileSpan =\n    carouselOrientation === 'vertical'\n      ? Math.max(width * ASPECT_RATIO_INVERT, MIN_HEIGHT)\n      : Math.max(height * ASPECT_RATIO, MIN_WIDTH);\n  const scrollBarWidth = getScrollBarWidth();\n\n  const tilesThatFit =\n    carouselOrientation === 'vertical'\n      ? Math.max((height - scrollBarWidth) / tileSpan, MIN_VISIBLE_TILES)\n      : Math.max((width - scrollBarWidth) / tileSpan, MIN_VISIBLE_TILES);\n\n  let maxVisibleTiles = Math.round(tilesThatFit);\n  if (Math.abs(tilesThatFit - prevTiles) < 0.5) {\n    maxVisibleTiles = Math.round(prevTiles);\n  } else if (prevTiles !== tilesThatFit) {\n    setPrevTiles(tilesThatFit);\n  }\n\n  const sortedTiles = useVisualStableUpdate(tracks, maxVisibleTiles);\n\n  React.useLayoutEffect(() => {\n    if (asideEl.current) {\n      asideEl.current.dataset.lkOrientation = carouselOrientation;\n      asideEl.current.style.setProperty('--lk-max-visible-tiles', maxVisibleTiles.toString());\n    }\n  }, [maxVisibleTiles, carouselOrientation]);\n\n  return (\n    <aside key={carouselOrientation} className=\"lk-carousel\" ref={asideEl} {...props}>\n      <TrackLoop tracks={sortedTiles}>{props.children}</TrackLoop>\n    </aside>\n  );\n}\n","import type { PinState, WidgetState } from '@livekit/components-core';\nimport { log } from '@livekit/components-core';\nimport * as React from 'react';\nimport type { LayoutContextType } from '../../context';\nimport { LayoutContext, useEnsureCreateLayoutContext } from '../../context';\n\n/** @alpha */\nexport interface LayoutContextProviderProps {\n  value?: LayoutContextType;\n  onPinChange?: (state: PinState) => void;\n  onWidgetChange?: (state: WidgetState) => void;\n}\n\n/** @alpha */\nexport function LayoutContextProvider({\n  value,\n  onPinChange,\n  onWidgetChange,\n  children,\n}: React.PropsWithChildren<LayoutContextProviderProps>) {\n  const layoutContextValue = useEnsureCreateLayoutContext(value);\n\n  React.useEffect(() => {\n    log.debug('PinState Updated', { state: layoutContextValue.pin.state });\n    if (onPinChange && layoutContextValue.pin.state) onPinChange(layoutContextValue.pin.state);\n  }, [layoutContextValue.pin.state, onPinChange]);\n\n  React.useEffect(() => {\n    log.debug('Widget Updated', { widgetState: layoutContextValue.widget.state });\n    if (onWidgetChange && layoutContextValue.widget.state) {\n      onWidgetChange(layoutContextValue.widget.state);\n    }\n  }, [onWidgetChange, layoutContextValue.widget.state]);\n\n  return <LayoutContext.Provider value={layoutContextValue}>{children}</LayoutContext.Provider>;\n}\n","import * as React from 'react';\nimport { type TrackReference } from '@livekit/components-core';\nimport { useEnsureTrackRef } from '../../context';\nimport { useMultibandTrackVolume } from '../../hooks';\n\n/**\n * @public\n * @deprecated Use BarVisualizer instead\n */\nexport interface AudioVisualizerProps extends React.HTMLAttributes<SVGElement> {\n  trackRef?: TrackReference;\n}\n\n/**\n * The AudioVisualizer component is used to visualize the audio volume of a given audio track.\n * @remarks\n * Requires a `TrackReferenceOrPlaceholder` to be provided either as a property or via the `TrackRefContext`.\n * @example\n * ```tsx\n * <AudioVisualizer />\n * ```\n * @public\n * @deprecated Use BarVisualizer instead\n */\nexport const AudioVisualizer: (\n  props: AudioVisualizerProps & React.RefAttributes<SVGSVGElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<SVGSVGElement, AudioVisualizerProps>(\n  function AudioVisualizer({ trackRef, ...props }: AudioVisualizerProps, ref) {\n    const svgWidth = 200;\n    const svgHeight = 90;\n    const barWidth = 6;\n    const barSpacing = 4;\n    const volMultiplier = 50;\n    const barCount = 7;\n    const trackReference = useEnsureTrackRef(trackRef);\n\n    const volumes = useMultibandTrackVolume(trackReference, { bands: 7, loPass: 300 });\n\n    return (\n      <svg\n        ref={ref}\n        width=\"100%\"\n        height=\"100%\"\n        viewBox={`0 0 ${svgWidth} ${svgHeight}`}\n        {...props}\n        className=\"lk-audio-visualizer\"\n      >\n        <rect x=\"0\" y=\"0\" width=\"100%\" height=\"100%\" />\n        <g\n          style={{\n            transform: `translate(${(svgWidth - barCount * (barWidth + barSpacing)) / 2}px, 0)`,\n          }}\n        >\n          {volumes.map((vol, idx) => (\n            <rect\n              key={idx}\n              x={idx * (barWidth + barSpacing)}\n              y={svgHeight / 2 - (vol * volMultiplier) / 2}\n              width={barWidth}\n              height={vol * volMultiplier}\n            ></rect>\n          ))}\n        </g>\n      </svg>\n    );\n  },\n);\n","import type { Participant } from 'livekit-client';\nimport * as React from 'react';\nimport { ParticipantContext } from '../context';\nimport { cloneSingleChild } from '../utils';\n\n/** @public */\nexport interface ParticipantLoopProps {\n  /** The participants to loop over. Use `useParticipants()` hook to get participants. */\n  participants: Participant[];\n  /** The template component to be used in the loop. */\n  children: React.ReactNode;\n}\n\n/**\n * The `ParticipantLoop` component loops over an array of participants to create a context for every participant.\n * This component takes exactly one child component as a template.\n * By providing your own template as a child you have full control over the look and feel of your participant representations.\n *\n * @remarks\n * If you want to loop over individual tracks instead of participants, you can use the `TrackLoop` component.\n *\n * @example\n * ```tsx\n * const participants = useParticipants();\n * <ParticipantLoop participants={participants}>\n *   <ParticipantName />\n * </ParticipantLoop>\n * ```\n * @public\n */\nexport function ParticipantLoop({ participants, ...props }: ParticipantLoopProps) {\n  return (\n    <>\n      {participants.map((participant) => (\n        <ParticipantContext.Provider value={participant} key={participant.identity}>\n          {cloneSingleChild(props.children)}\n        </ParticipantContext.Provider>\n      ))}\n    </>\n  );\n}\n","import { getTrackReferenceId, isLocal } from '@livekit/components-core';\nimport { Track } from 'livekit-client';\nimport * as React from 'react';\nimport { useTracks } from '../hooks';\nimport { AudioTrack } from './participant/AudioTrack';\n\n/** @public */\nexport interface RoomAudioRendererProps {\n  /** Sets the volume for all audio tracks rendered by this component. By default, the range is between `0.0` and `1.0`. */\n  volume?: number;\n  /**\n   * If set to `true`, mutes all audio tracks rendered by the component.\n   * @remarks\n   * If set to `true`, the server will stop sending audio track data to the client.\n   * @alpha\n   */\n  muted?: boolean;\n}\n\n/**\n * The `RoomAudioRenderer` component is a drop-in solution for adding audio to your LiveKit app.\n * It takes care of handling remote participants audio tracks and makes sure that microphones and screen share are audible.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <RoomAudioRenderer />\n * </LiveKitRoom>\n * ```\n * @public\n */\nexport function RoomAudioRenderer({ volume, muted }: RoomAudioRendererProps) {\n  const tracks = useTracks(\n    [Track.Source.Microphone, Track.Source.ScreenShareAudio, Track.Source.Unknown],\n    {\n      updateOnlyOn: [],\n      onlySubscribed: true,\n    },\n  ).filter((ref) => !isLocal(ref.participant) && ref.publication.kind === Track.Kind.Audio);\n\n  return (\n    <div style={{ display: 'none' }}>\n      {tracks.map((trackRef) => (\n        <AudioTrack\n          key={getTrackReferenceId(trackRef)}\n          trackRef={trackRef}\n          volume={volume}\n          muted={muted}\n        />\n      ))}\n    </div>\n  );\n}\n","import * as React from 'react';\nimport { useRoomInfo } from '../hooks';\n\n/** @public */\nexport interface RoomNameProps extends React.HTMLAttributes<HTMLSpanElement> {\n  childrenPosition?: 'before' | 'after';\n}\n\n/**\n * The `RoomName` component renders the name of the connected LiveKit room inside a span tag.\n *\n * @example\n * ```tsx\n * <LiveKitRoom>\n *   <RoomName />\n * </LiveKitRoom>\n * ```\n * @public\n *\n * @param props - RoomNameProps\n */\nexport const RoomName: React.FC<RoomNameProps & React.RefAttributes<HTMLSpanElement>> =\n  /* @__PURE__ */ React.forwardRef<HTMLSpanElement, RoomNameProps>(function RoomName(\n    { childrenPosition = 'before', children, ...htmlAttributes }: RoomNameProps,\n    ref,\n  ) {\n    const { name } = useRoomInfo();\n\n    return (\n      <span ref={ref} {...htmlAttributes}>\n        {childrenPosition === 'before' && children}\n        {name}\n        {childrenPosition === 'after' && children}\n      </span>\n    );\n  });\n","import * as React from 'react';\nimport { mergeProps } from '../utils';\n\n/**\n * The `Toast` component is a rudimentary way to display a message to the user.\n * This message should be short lived and not require user interaction.\n * For example, displaying the current connection state like `ConnectionStateToast` does.\n *\n * @example\n * ```tsx\n * <Toast>Connecting...</Toast>\n * ```\n * @public\n */\nexport function Toast(props: React.HTMLAttributes<HTMLDivElement>) {\n  const htmlProps = React.useMemo(() => mergeProps(props, { className: 'lk-toast' }), [props]);\n  return <div {...htmlProps}>{props.children}</div>;\n}\n","export const generateConnectingSequenceBar = (columns: number): number[][] => {\n  const seq = [];\n\n  for (let x = 0; x < columns; x++) {\n    seq.push([x, columns - 1 - x]);\n  }\n\n  return seq;\n};\n","export const generateListeningSequenceBar = (columns: number): number[][] => {\n  const center = Math.floor(columns / 2);\n  const noIndex = -1;\n\n  return [[center], [noIndex]];\n};\n","import { useEffect, useRef, useState } from 'react';\nimport { generateConnectingSequenceBar } from '../animationSequences/connectingSequence';\nimport { generateListeningSequenceBar } from '../animationSequences/listeningSequence';\nimport type { AgentState } from '../../../hooks';\n\nexport const useBarAnimator = (\n  state: AgentState | undefined,\n  columns: number,\n  interval: number,\n): number[] => {\n  const [index, setIndex] = useState(0);\n  const [sequence, setSequence] = useState<number[][]>([[]]);\n\n  useEffect(() => {\n    if (state === 'thinking') {\n      setSequence(generateListeningSequenceBar(columns));\n    } else if (state === 'connecting' || state === 'initializing') {\n      const sequence = [...generateConnectingSequenceBar(columns)];\n      setSequence(sequence);\n    } else if (state === 'listening') {\n      setSequence(generateListeningSequenceBar(columns));\n    } else if (state === undefined) {\n      setSequence([new Array(columns).fill(0).map((_, idx) => idx)]);\n    } else {\n      setSequence([[]]);\n    }\n    setIndex(0);\n  }, [state, columns]);\n\n  const animationFrameId = useRef<number | null>(null);\n  useEffect(() => {\n    let startTime = performance.now();\n\n    const animate = (time: DOMHighResTimeStamp) => {\n      const timeElapsed = time - startTime;\n\n      if (timeElapsed >= interval) {\n        setIndex((prev) => prev + 1);\n        startTime = time;\n      }\n\n      animationFrameId.current = requestAnimationFrame(animate);\n    };\n\n    animationFrameId.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (animationFrameId.current !== null) {\n        cancelAnimationFrame(animationFrameId.current);\n      }\n    };\n  }, [interval, columns, state, sequence.length]);\n\n  return sequence[index % sequence.length];\n};\n","import * as React from 'react';\nimport { useBarAnimator } from './animators/useBarAnimator';\nimport { useMultibandTrackVolume, type AgentState } from '../../hooks';\nimport type { TrackReferenceOrPlaceholder } from '@livekit/components-core';\nimport { useMaybeTrackRefContext } from '../../context';\nimport { cloneSingleChild, mergeProps } from '../../utils';\n\n/**\n * @beta\n */\nexport type BarVisualizerOptions = {\n  /** in percentage */\n  maxHeight?: number;\n  /** in percentage */\n  minHeight?: number;\n};\n\n/**\n * @beta\n */\nexport interface BarVisualizerProps extends React.HTMLProps<HTMLDivElement> {\n  /** If set, the visualizer will transition between different voice assistant states */\n  state?: AgentState;\n  /** Number of bars that show up in the visualizer */\n  barCount?: number;\n  trackRef?: TrackReferenceOrPlaceholder;\n  options?: BarVisualizerOptions;\n  /** The template component to be used in the visualizer. */\n  children?: React.ReactNode;\n}\n\nconst sequencerIntervals = new Map<AgentState, number>([\n  ['connecting', 2000],\n  ['initializing', 2000],\n  ['listening', 500],\n  ['thinking', 150],\n]);\n\nconst getSequencerInterval = (\n  state: AgentState | undefined,\n  barCount: number,\n): number | undefined => {\n  if (state === undefined) {\n    return 1000;\n  }\n  let interval = sequencerIntervals.get(state);\n  if (interval) {\n    switch (state) {\n      case 'connecting':\n        // case 'thinking':\n        interval /= barCount;\n        break;\n\n      default:\n        break;\n    }\n  }\n  return interval;\n};\n/**\n * Visualizes audio signals from a TrackReference as bars.\n * If the `state` prop is set, it automatically transitions between VoiceAssistant states.\n * @beta\n *\n * @remarks For VoiceAssistant state transitions this component requires a voice assistant agent running with livekit-agents \\>= 0.9.0\n *\n * @example\n * ```tsx\n * function SimpleVoiceAssistant() {\n *   const { state, audioTrack } = useVoiceAssistant();\n *   return (\n *    <BarVisualizer\n *      state={state}\n *      trackRef={audioTrack}\n *    />\n *   );\n * }\n * ```\n */\nexport const BarVisualizer = /* @__PURE__ */ React.forwardRef<HTMLDivElement, BarVisualizerProps>(\n  function BarVisualizer(\n    { state, options, barCount = 15, trackRef, children, ...props }: BarVisualizerProps,\n    ref,\n  ) {\n    const elementProps = mergeProps(props, { className: 'lk-audio-bar-visualizer' });\n    let trackReference = useMaybeTrackRefContext();\n\n    if (trackRef) {\n      trackReference = trackRef;\n    }\n\n    const volumeBands = useMultibandTrackVolume(trackReference, {\n      bands: barCount,\n      loPass: 100,\n      hiPass: 200,\n    });\n    const minHeight = options?.minHeight ?? 20;\n    const maxHeight = options?.maxHeight ?? 100;\n\n    const highlightedIndices = useBarAnimator(\n      state,\n      barCount,\n      getSequencerInterval(state, barCount) ?? 100,\n    );\n\n    return (\n      <div ref={ref} {...elementProps} data-lk-va-state={state}>\n        {volumeBands.map((volume, idx) =>\n          children ? (\n            cloneSingleChild(children, {\n              'data-lk-highlighted': highlightedIndices.includes(idx),\n              'data-lk-bar-index': idx,\n              class: 'lk-audio-bar',\n              style: { height: `${Math.min(maxHeight, Math.max(minHeight, volume * 100 + 5))}%` },\n            })\n          ) : (\n            <span\n              key={idx}\n              data-lk-highlighted={highlightedIndices.includes(idx)}\n              data-lk-bar-index={idx}\n              className={`lk-audio-bar ${highlightedIndices.includes(idx) && 'lk-highlighted'}`}\n              style={{\n                // TODO transform animations would be more performant, however the border-radius gets distorted when using scale transforms. a 9-slice approach (or 3 in this case) could work\n                // transform: `scale(1, ${Math.min(maxHeight, Math.max(minHeight, volume))}`,\n                height: `${Math.min(maxHeight, Math.max(minHeight, volume * 100 + 5))}%`,\n              }}\n            ></span>\n          ),\n        )}\n      </div>\n    );\n  },\n);\n","import * as React from 'react';\n\nimport { ConnectionQualityIndicator } from './ConnectionQualityIndicator';\nimport { ParticipantName } from './ParticipantName';\nimport { TrackMutedIndicator } from './TrackMutedIndicator';\nimport { TrackRefContext, useEnsureTrackRef } from '../../context';\n\nimport type { ParticipantTileProps } from './ParticipantTile';\nimport { AudioTrack } from './AudioTrack';\nimport { useParticipantTile } from '../../hooks';\nimport { isTrackReference } from '@livekit/components-core';\nimport { BarVisualizer } from './BarVisualizer';\n\n/**\n * The `ParticipantAudioTile` component is the base utility wrapper for displaying a visual representation of a participant.\n * This component can be used as a child of the `TileLoop` or independently if a participant is passed as a property.\n *\n * @example\n * ```tsx\n * <ParticipantAudioTile />\n * ```\n * @public\n */\nexport const ParticipantAudioTile: (\n  props: ParticipantTileProps & React.RefAttributes<HTMLDivElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLDivElement, ParticipantTileProps>(\n  function ParticipantAudioTile(\n    {\n      children,\n      disableSpeakingIndicator,\n      onParticipantClick,\n      trackRef,\n      ...htmlProps\n    }: ParticipantTileProps,\n    ref,\n  ) {\n    const trackReference = useEnsureTrackRef(trackRef);\n    const { elementProps } = useParticipantTile({\n      trackRef: trackReference,\n      htmlProps,\n      disableSpeakingIndicator,\n      onParticipantClick,\n    });\n\n    return (\n      <div ref={ref} style={{ position: 'relative', minHeight: '160px' }} {...elementProps}>\n        <TrackRefContext.Provider value={trackReference}>\n          {children ?? (\n            <>\n              {isTrackReference(trackReference) && (\n                <AudioTrack trackRef={trackReference}></AudioTrack>\n              )}\n              <BarVisualizer barCount={7} options={{ minHeight: 8 }} />\n              <div className=\"lk-participant-metadata\">\n                <div className=\"lk-participant-metadata-item\">\n                  <TrackMutedIndicator trackRef={trackReference}></TrackMutedIndicator>\n                  <ParticipantName />\n                </div>\n                <ConnectionQualityIndicator className=\"lk-participant-metadata-item\" />\n              </div>\n            </>\n          )}\n        </TrackRefContext.Provider>\n      </div>\n    );\n  },\n);\n","import type { Room } from 'livekit-client';\nimport { ConnectionState } from 'livekit-client';\nimport * as React from 'react';\nimport { SpinnerIcon } from '../assets/icons';\nimport { useConnectionState } from '../hooks';\nimport { Toast } from './Toast';\n\n/** @public */\nexport interface ConnectionStateToastProps extends React.HTMLAttributes<HTMLDivElement> {\n  room?: Room;\n}\n\n/**\n * The `ConnectionStateToast` component displays a toast\n * notification indicating the current connection state of the room.\n * @public\n */\nexport function ConnectionStateToast(props: ConnectionStateToastProps) {\n  const [notification, setNotification] = React.useState<React.ReactElement | undefined>(undefined);\n  const state = useConnectionState(props.room);\n\n  React.useEffect(() => {\n    switch (state) {\n      case ConnectionState.Reconnecting:\n        setNotification(\n          <>\n            <SpinnerIcon className=\"lk-spinner\" /> Reconnecting\n          </>,\n        );\n        break;\n      case ConnectionState.Connecting:\n        setNotification(\n          <>\n            <SpinnerIcon className=\"lk-spinner\" /> Connecting\n          </>,\n        );\n        break;\n      case ConnectionState.Disconnected:\n        setNotification(<>Disconnected</>);\n        break;\n      default:\n        setNotification(undefined);\n        break;\n    }\n  }, [state]);\n  return notification ? <Toast className=\"lk-toast-connection-state\">{notification}</Toast> : <></>;\n}\n","import type { ReceivedChatMessage } from '@livekit/components-core';\nimport { tokenize, createDefaultGrammar } from '@livekit/components-core';\nimport * as React from 'react';\n\n/** @public */\nexport type MessageFormatter = (message: string) => React.ReactNode;\n\n/**\n * ChatEntry composes the HTML div element under the hood, so you can pass all its props.\n * These are the props specific to the ChatEntry component:\n * @public\n */\nexport interface ChatEntryProps extends React.HTMLAttributes<HTMLLIElement> {\n  /** The chat massage object to display. */\n  entry: ReceivedChatMessage;\n  /** Hide sender name. Useful when displaying multiple consecutive chat messages from the same person. */\n  hideName?: boolean;\n  /** Hide message timestamp. */\n  hideTimestamp?: boolean;\n  /** An optional formatter for the message body. */\n  messageFormatter?: MessageFormatter;\n}\n\n/**\n * The `ChatEntry` component holds and displays one chat message.\n *\n * @example\n * ```tsx\n * <Chat>\n *   <ChatEntry />\n * </Chat>\n * ```\n * @see `Chat`\n * @public\n */\nexport const ChatEntry: (\n  props: ChatEntryProps & React.RefAttributes<HTMLLIElement>,\n) => React.ReactNode = /* @__PURE__ */ React.forwardRef<HTMLLIElement, ChatEntryProps>(\n  function ChatEntry(\n    { entry, hideName = false, hideTimestamp = false, messageFormatter, ...props }: ChatEntryProps,\n    ref,\n  ) {\n    const formattedMessage = React.useMemo(() => {\n      return messageFormatter ? messageFormatter(entry.message) : entry.message;\n    }, [entry.message, messageFormatter]);\n    const hasBeenEdited = !!entry.editTimestamp;\n    const time = new Date(entry.timestamp);\n    const locale = navigator ? navigator.language : 'en-US';\n\n    return (\n      <li\n        ref={ref}\n        className=\"lk-chat-entry\"\n        title={time.toLocaleTimeString(locale, { timeStyle: 'full' })}\n        data-lk-message-origin={entry.from?.isLocal ? 'local' : 'remote'}\n        {...props}\n      >\n        {(!hideTimestamp || !hideName || hasBeenEdited) && (\n          <span className=\"lk-meta-data\">\n            {!hideName && (\n              <strong className=\"lk-participant-name\">\n                {entry.from?.name ?? entry.from?.identity}\n              </strong>\n            )}\n\n            {(!hideTimestamp || hasBeenEdited) && (\n              <span className=\"lk-timestamp\">\n                {hasBeenEdited && 'edited '}\n                {time.toLocaleTimeString(locale, { timeStyle: 'short' })}\n              </span>\n            )}\n          </span>\n        )}\n\n        <span className=\"lk-message-body\">{formattedMessage}</span>\n      </li>\n    );\n  },\n);\n\n/** @public */\nexport function formatChatMessageLinks(message: string): React.ReactNode {\n  return tokenize(message, createDefaultGrammar()).map((tok, i) => {\n    if (typeof tok === `string`) {\n      return tok;\n    } else {\n      const content = tok.content.toString();\n      const href =\n        tok.type === `url`\n          ? /^http(s?):\\/\\//.test(content)\n            ? content\n            : `https://${content}`\n          : `mailto:${content}`;\n      return (\n        <a className=\"lk-chat-link\" key={i} href={href} target=\"_blank\" rel=\"noreferrer\">\n          {content}\n        </a>\n      );\n    }\n  });\n}\n"],"names":["ClearPinButton","React","props","ref","buttonProps","useClearPinButton","ConnectionState","room","connectionState","useConnectionState","ChatToggle","mergedProps","useChatToggle","DisconnectButton","useDisconnectButton","SvgCameraDisabledIcon","SvgCameraIcon","SvgChatCloseIcon","SvgChatIcon","SvgChevron","SvgFocusToggleIcon","SvgGearIcon","SvgLeaveIcon","SvgLockLockedIcon","SvgMicDisabledIcon","SvgMicIcon","SvgQualityExcellentIcon","SvgQualityGoodIcon","SvgQualityPoorIcon","SvgQualityUnknownIcon","SvgScreenShareIcon","SvgScreenShareStopIcon","SvgSpinnerIcon","SvgUnfocusToggleIcon","FocusToggle","trackRef","trackRefFromContext","useMaybeTrackRefContext","inFocus","useFocusToggle","LayoutContext","layoutContext","UnfocusToggleIcon","FocusToggleIcon","isProp","prop","mergeProps","mergePropsReactAria","cloneSingleChild","children","key","child","clsx","warnAboutMissingStyles","el","_a","_b","target","log","MediaDeviceSelect","kind","initialSelection","onActiveDeviceChange","onDeviceListChange","onDeviceSelectError","exactMatch","track","requestPermissions","onError","useMaybeRoomContext","handleError","e","RoomEvent","devices","activeDeviceId","setActiveMediaDevice","className","useMediaDeviceSelect","handleActiveDeviceChange","deviceId","isActive","index","device","StartAudio","label","useRoomContext","useStartAudio","StartMediaButton","audioProps","canPlayAudio","canPlayVideo","useStartVideo","style","restProps","getSourceIcon","source","enabled","Track","MicIcon","MicDisabledIcon","CameraIcon","CameraDisabledIcon","ScreenShareStopIcon","ScreenShareIcon","getConnectionQualityIcon","quality","ConnectionQuality","QualityExcellentIcon","QualityGoodIcon","QualityPoorIcon","QualityUnknownIcon","TrackToggle","showIcon","useTrackToggle","ConnectionQualityIndicator","useConnectionQualityIndicator","elementProps","ParticipantName","participant","p","useEnsureParticipant","infoObserver","setupParticipantName","identity","name","useObservableState","TrackMutedIndicator","show","isMuted","useTrackMutedIndicator","showIndicator","htmlProps","SvgParticipantPlaceholder","useMediaTrackBySourceOrName","observerOptions","options","publication","setPublication","getTrackByIdentifier","setMuted","isSubscribed","setSubscribed","setTrack","orientation","setOrientation","previousElement","trackObserver","setupMediaTrack","isTrackReference","subscription","isLocal","orientation_","FUNC_ERROR_TEXT","NAN","symbolTag","reTrim","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","freeGlobal","global","freeSelf","root","objectProto","objectToString","nativeMax","nativeMin","now","debounce","func","wait","lastArgs","lastThis","maxWait","result","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","toNumber","isObject","invokeFunc","time","args","thisArg","leadingEdge","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","shouldInvoke","trailingEdge","cancel","flush","debounced","isInvoking","value","type","isObjectLike","isSymbol","other","isBinary","lodash_debounce","useUnmount","funcRef","useRef","useEffect","useDebounceCallback","delay","debouncedFunc","useMemo","debouncedFuncInstance","wrappedFunc","useDebounceValue","initialValue","eq","left","right","unwrappedInitialValue","debouncedValue","setDebouncedValue","useState","previousValueRef","updateDebouncedValue","useIntersectionObserver","threshold","rootMargin","freezeOnceVisible","initialIsIntersecting","onChange","setRef","state","setState","callbackRef","frozen","unobserve","observer","entries","thresholds","entry","isIntersecting","threshold2","prevRef","_a2","VideoTrack","onTrackClick","onClick","onSubscriptionStatusChanged","manageSubscription","trackReference","useEnsureTrackRef","mediaEl","intersectionEntry","useHooks.useIntersectionObserver","debouncedIntersectionEntry","useHooks.useDebounceValue","RemoteTrackPublication","pub","clickHandler","evt","AudioTrack","volume","muted","RemoteAudioTrack","ParticipantContextIfNeeded","hasContext","useMaybeParticipantContext","ParticipantContext","TrackRefContextIfNeeded","TrackRefContext","ParticipantTile","onParticipantClick","disableSpeakingIndicator","useParticipantTile","isEncrypted","useIsEncrypted","useMaybeLayoutContext","autoManageSubscription","useFeatureContext","handleSubscribe","subscribed","isTrackReferencePinned","ParticipantPlaceholder","LockLockedIcon","FocusLayoutContainer","FocusLayout","TrackLoop","tracks","getTrackReferenceId","PaginationControl","totalPageCount","nextPage","prevPage","currentPage","connectedElement","interactive","setInteractive","createInteractingObservable","PaginationIndicator","bubbles","_","GridLayout","gridEl","layout","useGridLayout","pagination","usePagination","useSwipe","MIN_HEIGHT","MIN_WIDTH","MIN_VISIBLE_TILES","ASPECT_RATIO","ASPECT_RATIO_INVERT","CarouselLayout","asideEl","prevTiles","setPrevTiles","width","height","useSize","carouselOrientation","tileSpan","scrollBarWidth","getScrollBarWidth","tilesThatFit","maxVisibleTiles","sortedTiles","useVisualStableUpdate","LayoutContextProvider","onPinChange","onWidgetChange","layoutContextValue","useEnsureCreateLayoutContext","AudioVisualizer","volumes","useMultibandTrackVolume","vol","idx","ParticipantLoop","participants","RoomAudioRenderer","useTracks","RoomName","childrenPosition","htmlAttributes","useRoomInfo","Toast","generateConnectingSequenceBar","columns","seq","x","generateListeningSequenceBar","useBarAnimator","interval","setIndex","sequence","setSequence","animationFrameId","startTime","animate","prev","sequencerIntervals","getSequencerInterval","barCount","BarVisualizer","volumeBands","minHeight","maxHeight","highlightedIndices","ParticipantAudioTile","ConnectionStateToast","notification","setNotification","SpinnerIcon","ChatEntry","hideName","hideTimestamp","messageFormatter","formattedMessage","hasBeenEdited","locale","_c","formatChatMessageLinks","message","tokenize","createDefaultGrammar","tok","i","content","href"],"mappings":"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","x_google_ignoreList":[35,36]}